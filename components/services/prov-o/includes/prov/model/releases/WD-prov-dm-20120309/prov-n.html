<!DOCTYPE html PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN' 'http://www.w3.org/TR/html4/loose.dtd'>
<html lang="en" dir="ltr">
<head> 
    <title>PROV-DM Part 3: PROV-N: The Provenance Notation</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
    <!-- 
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
<!-- PM -->
    <style type="text/css">
      .note { font-size:small; margin-left:50px }
     </style>

     
     
    

    

     
  <style type="text/css">
/*****************************************************************
 * ReSpec CSS
 * Robin Berjon (robin at berjon dot com)
 * v0.05 - 2009-07-31
 *****************************************************************/


/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

code {
    color:  #ff4500;
}


/* --- WEB IDL --- */
pre.idl {
    border-top: 1px solid #90b8de;
    border-bottom: 1px solid #90b8de;
    padding:    1em;
    line-height:    120%;
}

pre.idl::before {
    content:    "WebIDL";
    display:    block;
    width:      150px;
    background: #90b8de;
    color:  #fff;
    font-family:    initial;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
}

.idlType {
    color:  #ff4500;
    font-weight:    bold;
    text-decoration:    none;
}

/*.idlModule*/
/*.idlModuleID*/
/*.idlInterface*/
.idlInterfaceID, .idlDictionaryID {
    font-weight:    bold;
    color:  #005a9c;
}

.idlSuperclass {
    font-style: italic;
    color:  #005a9c;
}

/*.idlAttribute*/
.idlAttrType, .idlFieldType, .idlMemberType {
    color:  #005a9c;
}
.idlAttrName, .idlFieldName, .idlMemberName {
    color:  #ff4500;
}
.idlAttrName a, .idlFieldName a, .idlMemberName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlMethod*/
.idlMethType {
    color:  #005a9c;
}
.idlMethName {
    color:  #ff4500;
}
.idlMethName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlParam*/
.idlParamType {
    color:  #005a9c;
}
.idlParamName {
    font-style: italic;
}

.extAttr {
    color:  #666;
}

/*.idlConst*/
.idlConstType {
    color:  #005a9c;
}
.idlConstName {
    color:  #ff4500;
}
.idlConstName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlException*/
.idlExceptionID {
    font-weight:    bold;
    color:  #c00;
}

.idlTypedefID, .idlTypedefType {
    color:  #005a9c;
}

.idlRaises, .idlRaises a.idlType, .idlRaises a.idlType code, .excName a, .excName a code {
    color:  #c00;
    font-weight:    normal;
}

.excName a {
    font-family:    monospace;
}

.idlRaises a.idlType, .excName a.idlType {
    border-bottom:  1px dotted #c00;
}

.excGetSetTrue, .excGetSetFalse, .prmNullTrue, .prmNullFalse, .prmOptTrue, .prmOptFalse {
    width:  45px;
    text-align: center;
}
.excGetSetTrue, .prmNullTrue, .prmOptTrue { color:  #0c0; }
.excGetSetFalse, .prmNullFalse, .prmOptFalse { color:  #c00; }

.idlImplements a {
    font-weight:    bold;
}

dl.attributes, dl.methods, dl.constants, dl.fields, dl.dictionary-members {
    margin-left:    2em;
}

.attributes dt, .methods dt, .constants dt, .fields dt, .dictionary-members dt {
    font-weight:    normal;
}

.attributes dt code, .methods dt code, .constants dt code, .fields dt code, .dictionary-members dt code {
    font-weight:    bold;
    color:  #000;
    font-family:    monospace;
}

.attributes dt code, .fields dt code, .dictionary-members dt code {
    background:  #ffffd2;
}

.attributes dt .idlAttrType code, .fields dt .idlFieldType code, .dictionary-members dt .idlMemberType code {
    color:  #005a9c;
    background:  transparent;
    font-family:    inherit;
    font-weight:    normal;
    font-style: italic;
}

.methods dt code {
    background:  #d9e6f8;
}

.constants dt code {
    background:  #ddffd2;
}

.attributes dd, .methods dd, .constants dd, .fields dd, .dictionary-members dd {
    margin-bottom:  1em;
}

table.parameters, table.exceptions {
    border-spacing: 0;
    border-collapse:    collapse;
    margin: 0.5em 0;
    width:  100%;
}
table.parameters { border-bottom:  1px solid #90b8de; }
table.exceptions { border-bottom:  1px solid #deb890; }

.parameters th, .exceptions th {
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    font-family:    initial;
    font-weight:    normal;
    text-shadow:    #666 1px 1px 0;
}
.parameters th { background: #90b8de; }
.exceptions th { background: #deb890; }

.parameters td, .exceptions td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    vertical-align: top;
}

.parameters tr:first-child td, .exceptions tr:first-child td {
    border-top: none;
}

.parameters td.prmName, .exceptions td.excName, .exceptions td.excCodeName {
    width:  100px;
}

.parameters td.prmType {
    width:  120px;
}

table.exceptions table {
    border-spacing: 0;
    border-collapse:    collapse;
    width:  100%;
}

/* --- TOC --- */
.toc a {
    text-decoration:    none;
}

a .secno {
    color:  #000;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

/* --- EXAMPLES --- */
pre.example {
    border-top: 1px solid #ff4500;
    border-bottom: 1px solid #ff4500;
    padding:    1em;
    margin-top: 1em;
}

pre.example::before {
    content:    "Example";
    display:    block;
    width:      150px;
    background: #ff4500;
    color:  #fff;
    font-family:    initial;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
}

/* --- EDITORIAL NOTES --- */
.issue {
    padding:    1em;
    margin: 1em 0em 0em;
    border: 1px solid #f00;
    background: #ffc;
}

.issue::before {
    content:    "Issue";
    display:    block;
    width:  150px;
    margin: -1.5em 0 0.5em 0;
    font-weight:    bold;
    border: 1px solid #f00;
    background: #fff;
    padding:    3px 1em;
}

.note {
    margin: 1em 0em 0em;
    padding:    1em;
    border: 2px solid #cff6d9;
    background: #e2fff0;
}

.note::before {
    content:    "Note";
    display:    block;
    width:  150px;
    margin: -1.5em 0 0.5em 0;
    font-weight:    bold;
    border: 1px solid #cff6d9;
    background: #fff;
    padding:    3px 1em;
}

/* --- Best Practices --- */
div.practice {
    border: solid #bebebe 1px;
    margin: 2em 1em 1em 2em;
}

span.practicelab {
    margin: 1.5em 0.5em 1em 1em;
    font-weight: bold;
    font-style: italic;
}

span.practicelab   { background: #dfffff; }

span.practicelab {
    position: relative;
    padding: 0 0.5em;
    top: -1.5em;
}

p.practicedesc {
    margin: 1.5em 0.5em 1em 1em;
}

@media screen {
    p.practicedesc {
        position: relative;
        top: -2em;
        padding: 0;
        margin: 1.5em 0.5em -1em 1em;
    }
}

/* --- SYNTAX HIGHLIGHTING --- */
pre.sh_sourceCode {
  background-color: white;
  color: black;
  font-style: normal;
  font-weight: normal;
}

pre.sh_sourceCode .sh_keyword { color: #005a9c; font-weight: bold; }           /* language keywords */
pre.sh_sourceCode .sh_type { color: #666; }                            /* basic types */
pre.sh_sourceCode .sh_usertype { color: teal; }                             /* user defined types */
pre.sh_sourceCode .sh_string { color: red; font-family: monospace; }        /* strings and chars */
pre.sh_sourceCode .sh_regexp { color: orange; font-family: monospace; }     /* regular expressions */
pre.sh_sourceCode .sh_specialchar { color: 	#ffc0cb; font-family: monospace; }  /* e.g., \n, \t, \\ */
pre.sh_sourceCode .sh_comment { color: #A52A2A; font-style: italic; }         /* comments */
pre.sh_sourceCode .sh_number { color: purple; }                             /* literal numbers */
pre.sh_sourceCode .sh_preproc { color: #00008B; font-weight: bold; }       /* e.g., #include, import */
pre.sh_sourceCode .sh_symbol { color: blue; }                            /* e.g., *, + */
pre.sh_sourceCode .sh_function { color: black; font-weight: bold; }         /* function calls and declarations */
pre.sh_sourceCode .sh_cbracket { color: red; }                              /* block brackets (e.g., {, }) */
pre.sh_sourceCode .sh_todo { font-weight: bold; background-color: #00FFFF; }   /* TODO and FIXME */

/* Predefined variables and functions (for instance glsl) */
pre.sh_sourceCode .sh_predef_var { color: #00008B; }
pre.sh_sourceCode .sh_predef_func { color: #00008B; font-weight: bold; }

/* for OOP */
pre.sh_sourceCode .sh_classname { color: teal; }

/* line numbers (not yet implemented) */
pre.sh_sourceCode .sh_linenum { display: none; }

/* Internet related */
pre.sh_sourceCode .sh_url { color: blue; text-decoration: underline; font-family: monospace; }

/* for ChangeLog and Log files */
pre.sh_sourceCode .sh_date { color: blue; font-weight: bold; }
pre.sh_sourceCode .sh_time, pre.sh_sourceCode .sh_file { color: #00008B; font-weight: bold; }
pre.sh_sourceCode .sh_ip, pre.sh_sourceCode .sh_name { color: #006400; }

/* for Prolog, Perl... */
pre.sh_sourceCode .sh_variable { color: #006400; }

/* for LaTeX */
pre.sh_sourceCode .sh_italics { color: #006400; font-style: italic; }
pre.sh_sourceCode .sh_bold { color: #006400; font-weight: bold; }
pre.sh_sourceCode .sh_underline { color: #006400; text-decoration: underline; }
pre.sh_sourceCode .sh_fixed { color: green; font-family: monospace; }
pre.sh_sourceCode .sh_argument { color: #006400; }
pre.sh_sourceCode .sh_optionalargument { color: purple; }
pre.sh_sourceCode .sh_math { color: orange; }
pre.sh_sourceCode .sh_bibtex { color: blue; }

/* for diffs */
pre.sh_sourceCode .sh_oldfile { color: orange; }
pre.sh_sourceCode .sh_newfile { color: #006400; }
pre.sh_sourceCode .sh_difflines { color: blue; }

/* for css */
pre.sh_sourceCode .sh_selector { color: purple; }
pre.sh_sourceCode .sh_property { color: blue; }
pre.sh_sourceCode .sh_value { color: #006400; font-style: italic; }

/* other */
pre.sh_sourceCode .sh_section { color: black; font-weight: bold; }
pre.sh_sourceCode .sh_paren { color: red; }
pre.sh_sourceCode .sh_attribute { color: #006400; }

</style><link href="./extra.css" rel="stylesheet" type="text/css" charset="utf-8"><link href="http://www.w3.org/StyleSheets/TR/W3C-ED" rel="stylesheet" type="text/css" charset="utf-8"></head> 
  <body style="display: inherit; "><div class="head"><p><a href="http://www.w3.org/"><img width="72" height="48" src="http://www.w3.org/Icons/w3c_home" alt="W3C"></a></p><h1 class="title" id="title">PROV-DM Part 3: PROV-N: The Provenance Notation</h1><h2 id="subtitle">Working Draft WD4 (internal release)</h2><h2 id="w3c-editor-s-draft-09-march-2012"><acronym title="World Wide Web Consortium">W3C</acronym> Editor's Draft 09 March 2012</h2><dl><dt>This version:</dt><dd><a href="http://dvcs.w3.org/hg/prov/raw-file/default/model/releases/WD-prov-dm-20120309/prov-n.html">http://dvcs.w3.org/hg/prov/raw-file/default/model/releases/WD-prov-dm-20120309/prov-n.html</a></dd><dt>Latest published version:</dt><dd><a href="http://www.w3.org/TR/prov-n/">http://www.w3.org/TR/prov-n/</a></dd><dt>Latest editor's draft:</dt><dd><a href="http://dvcs.w3.org/hg/prov/raw-file/default/model/prov-n.html">http://dvcs.w3.org/hg/prov/raw-file/default/model/prov-n.html</a></dd><dt>Previous version:</dt><dd>none</dd><dt>Editors:</dt><dd><a href="http://www.ecs.soton.ac.uk/~lavm/">Luc Moreau</a>, University of Southampton</dd>
<dd><a href="http://www.cs.ncl.ac.uk/people/Paolo.Missier">Paolo Missier</a>, Newcastle University</dd>
<dt>Author:</dt><dd><span>TBD</span></dd>
</dl><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2011-2012 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. <acronym title="World Wide Web Consortium">W3C</acronym> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p><hr></div> 

    <div id="abstract" class="introductory section"><h2>Abstract</h2>
<p>
PROV-DM is a data model for provenance that describes
the entities, people and activities involved in
producing a piece of data or thing in the world. PROV-DM is
domain-agnostic, but is equipped with extensibility points allowing
further domain-specific and application-specific extensions to be
defined.  PROV-DM is accompanied by PROV-N, a technology-independent
notation, which allows serializations of PROV-DM
instances to be created for human consumption, which facilitates the
mapping of PROV-DM to concrete syntax, and which is used as the basis for a
formal semantics of PROV-DM.  The purpose of this document is to define the PROV-N notation.
</p>
    </div><div id="sotd" class="introductory section"><h2>Status of This Document</h2><p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <acronym title="World Wide Web Consortium">W3C</acronym> publications and the latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><acronym title="World Wide Web Consortium">W3C</acronym> technical reports index</a> at http://www.w3.org/TR/.</em></p>
<b>This document is released internally by the Provenance Working Group.</b>
<div id="prov-family" class="section">
<!-- <h3>Prov Family of Specifications</h3>-->
This document is part of the PROV family of specifications, a set of specifications aiming to define the various aspects that are necessary to achieve the vision of inter-operable
interchange of provenance information in heterogeneous environments such as the Web.   This document defines  the PROV-DM data model for provenance, accompanied with a notation to express
instances of that data model for human consumption. Other documents are: 
<ul>
<li> PROV-DM-CONSTRAINTS, a set of constraints applying to the PROV-DM data model,</li>
<li> PROV-N, a notation for provenance aimed at human consumption,</li>
<li> PROV-O, the provenance ontology:  by means of a mapping of PROV-DM to the OWL2 Web Ontology Language, this specification provides a normative serialization of PROV-DM in RDF</li>
<li> PROV-AQ, provenance access and query: the mechanisms for accessing and querying provenance; </li>
<li> PROV-PRIMER: a primer for the PROV-DM provenance data model,</li>
<li> PROV-SEM: a formal semantics for the PROV-DM provenance data model.</li>
</ul>
</div>
<p>This document was published by the <a href="http://www.w3.org/2011/prov/">Provenance Working Group</a> as an Editor's Draft. If you wish to make comments regarding this document, please send them to <a href="mailto:public-prov-wg@w3.org">public-prov-wg@w3.org</a> (<a href="mailto:public-prov-wg-request@w3.org?subject=subscribe">subscribe</a>, <a href="http://lists.w3.org/Archives/Public/public-prov-wg/">archives</a>). All feedback is welcome.</p><p>Publication as an Editor's Draft does not imply endorsement by the <acronym title="World Wide Web Consortium">W3C</acronym> Membership. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress.</p><p>This document was produced by a group operating under the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <acronym title="World Wide Web Consortium">W3C</acronym> Patent Policy</a>. <acronym title="World Wide Web Consortium">W3C</acronym> maintains a <a href="http://www.w3.org/2004/01/pp-impl/46974/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the <acronym title="World Wide Web Consortium">W3C</acronym> Patent Policy</a>.</p></div><div id="toc" class="section"><h2 class="introductory">Table of Contents</h2><ul class="toc"><li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>Introduction</a><ul class="toc"><li class="tocline"><a href="#structure-of-this-document" class="tocxref"><span class="secno">1.1 </span>Structure of this Document</a></li><li class="tocline"><a href="#prov-dm-namespace" class="tocxref"><span class="secno">1.2 </span>PROV-DM Namespace</a></li><li class="tocline"><a href="#conventions" class="tocxref"><span class="secno">1.3 </span>Conventions</a></li></ul></li><li class="tocline"><a href="#grammar-notation" class="tocxref"><span class="secno">2. </span>Grammar Notation</a></li><li class="tocline"><a href="#data-model-concepts" class="tocxref"><span class="secno">3. </span>PROV-DM Core</a><ul class="toc"><li class="tocline"><a href="#expression-element" class="tocxref"><span class="secno">3.1 </span>Element</a><ul class="toc"><li class="tocline"><a href="#expression-Entity" class="tocxref"><span class="secno">3.1.1 </span>Entity</a></li><li class="tocline"><a href="#expression-Activity" class="tocxref"><span class="secno">3.1.2 </span>Activity</a></li><li class="tocline"><a href="#expression-Agent" class="tocxref"><span class="secno">3.1.3 </span>Agent</a></li><li class="tocline"><a href="#expression-note" class="tocxref"><span class="secno">3.1.4 </span>Note</a></li></ul></li><li class="tocline"><a href="#expression-relation" class="tocxref"><span class="secno">3.2 </span>Relation</a><ul class="toc"><li class="tocline"><a href="#expression-Generation" class="tocxref"><span class="secno">3.2.1 </span>Generation</a></li><li class="tocline"><a href="#expression-Usage" class="tocxref"><span class="secno">3.2.2 </span>Usage</a></li><li class="tocline"><a href="#expression-ActivityAssociation" class="tocxref"><span class="secno">3.2.3 </span>Activity Association</a></li><li class="tocline"><a href="#expression-Start-End" class="tocxref"><span class="secno">3.2.4 </span>Activity Start and End</a></li><li class="tocline"><a href="#expression-responsibility" class="tocxref"><span class="secno">3.2.5 </span>Responsibility Chain</a></li><li class="tocline"><a href="#Derivation-Relation" class="tocxref"><span class="secno">3.2.6 </span>Derivation</a></li><li class="tocline"><a href="#expression-alternate-specialization" class="tocxref"><span class="secno">3.2.7 </span>Alternate  and Specialization</a></li><li class="tocline"><a href="#expression-annotation" class="tocxref"><span class="secno">3.2.8 </span>Annotation</a></li></ul></li><li class="tocline"><a href="#subexpressions" class="tocxref"><span class="secno">3.3 </span>Further Expressions</a><ul class="toc"><li class="tocline"><a href="#expression-NamespaceDeclaration" class="tocxref"><span class="secno">3.3.1 </span>Namespace Declaration</a></li><li class="tocline"><a href="#expression-identifier" class="tocxref"><span class="secno">3.3.2 </span>Identifier</a></li><li class="tocline"><a href="#expression-attribute" class="tocxref"><span class="secno">3.3.3 </span>Attribute</a></li><li class="tocline"><a href="#expression-literal" class="tocxref"><span class="secno">3.3.4 </span>Literal</a><ul class="toc"><li class="tocline"><a href="#expression-types" class="tocxref"><span class="secno">3.3.4.1 </span>Reserved Type Values</a></li><li class="tocline"><a href="#expression-Time" class="tocxref"><span class="secno">3.3.4.2 </span>Time Values</a></li></ul></li></ul></li></ul></li><li class="tocline"><a href="#common-relations" class="tocxref"><span class="secno">4. </span>Common Relations</a></li><li class="tocline"><a href="#ExpressionContainer" class="tocxref"><span class="secno">5. </span>Expression Container</a></li><li class="tocline"><a href="#account" class="tocxref"><span class="secno">6. </span>Account</a></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">A. </span>References</a><ul class="toc"><li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">A.1 </span>Normative references</a></li><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">A.2 </span>Informative references</a></li></ul></li></ul></div> 














<div id="introduction" class="section"> 
<!--OddPage--><h2><span class="secno">1. </span>Introduction</h2>

<p> Provenance is defined as a record that describes the people,
institutions, entities, and activities, involved in producing,
influencing, or delivering a piece of data or a thing in the world.  Two
companion specifications respectively define PROV-DM, a data model for
provenance, allowing such descriptions to be expressed  [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-DM">PROV-DM</a></cite>]  and a set of constraints that provenance descriptions are expectively to satisfy   [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-DM-CONSTRAINTS">PROV-DM-CONSTRAINTS</a></cite>].
</p>


<p>In this context,  PROV-N was introduced as a notation to write instances of the data model, as close to its abstract  syntax as possible.   PROV-N is primarily aimed at human consumption. PROV-N allows
serializations of PROV-DM instances to be written in a technology independent manner.
So far, PROV-N has been used in the following ways:</p>
<ul>
<li> PROV-N is used to provide technology independent illustrations in [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-DM">PROV-DM</a></cite>] and in the definition of PROV-DM constraints [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-DM-CONSTRAINTS">PROV-DM-CONSTRAINTS</a></cite>];</li>
<li> PROV-N is instrumental in defining the mapping mapping of PROV-DM to concrete syntaxes. Mappings translate each PROV-N expression to RDF [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-RDF">PROV-RDF</a></cite>] and to XML [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-XML">PROV-XML</a></cite>];</li>
<li> PROV-N is the basis for a
formal semantics, in which each PROV-N expression is provided with an interpretation [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-SEM">PROV-SEM</a></cite>].
</li></ul>

<p>PROV-N was designed to be as close as possible to PROV-DM without the syntactic bias and modelling constraints that concrete technologies bring with them, e.g., XML's choice between attribute and element, RDF's reliance on triples, or JSON's usage of dictionaries. </p>

<p>The purpose of this document is solely to define the syntax of PROV-N.
For each construct of PROV-DM, a corresponding PROV-N expression is introduced, by way of a production in the PROV-N grammar presented in this document. </p> 


<p>This specification is one of several specifications, referred to as the PROV family of specifications, defining the various aspects
that are necessary to achieve the vision of  inter-operable exchange of provenance:</p>
<ul>
<li>A data model for provenance, which is presented in three documents:
<ul>
<li> PROV-DM (part I): the provenance data model itself, expressed in natural language  [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-DM">PROV-DM</a></cite>];
</li><li> PROV-DM-CONSTRAINTS (part II): constraints underpinning the data model [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-DM-CONSTRAINTS">PROV-DM-CONSTRAINTS</a></cite>];
</li><li> PROV-N (part III): a notation to express instances of that data model for human consumption (this document);
</li></ul> 
</li>

<li>PROV-O: a normative serialization of PROV-DM in RDF [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-O">PROV-O</a></cite>], specified by means of a mapping to the OWL2 Web Ontology Language [<cite><a class="bibref" rel="biblioentry" href="#bib-OWL2-SYNTAX">OWL2-SYNTAX</a></cite>];</li>
<li>PROV-AQ: the mechanisms for accessing and querying provenance [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-AQ">PROV-AQ</a></cite>];</li>
<li>PROV-PRIMER: a primer for the PROV approach [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-PRIMER">PROV-PRIMER</a></cite>];</li>
<li>PROV-SEM: semantics of the PROV-DM data model [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-SEM">PROV-SEM</a></cite>];</li>
</ul>

    <div id="structure-of-this-document" class="section"> 
<h3><span class="secno">1.1 </span>Structure of this Document</h3>

<div class="note">TODO</div>


    </div> 


<div id="prov-dm-namespace" class="section">
 <h3><span class="secno">1.2 </span>PROV-DM Namespace</h3>


<p>The PROV-DM namespace is <span class="name">http://www.w3.org/ns/prov-dm/</span> (TBC).</p>

<p> All the elements, relations, reserved names and attributes introduced in this specification belong to the PROV-DM namespace.</p>

<div class="issue">
There is a desire to use a single namespace that all specifications of the PROV family can share to refer to common provenance terms. This is <a href="http://www.w3.org/2011/prov/track/issues/224">ISSUE-224</a>.
</div>

</div>

    <div id="conventions" class="section"> 
<h3><span class="secno">1.3 </span>Conventions</h3>



<p>The key words "<em class="rfc2119" title="must">must</em>", "<em class="rfc2119" title="must not">must not</em>", "<em class="rfc2119" title="required">required</em>", "<em class="rfc2119" title="shall">shall</em>", "<em class="rfc2119" title="shall
      not">shall
      not</em>", "<em class="rfc2119" title="should">should</em>", "<em class="rfc2119" title="should not">should not</em>", "<em class="rfc2119" title="recommended">recommended</em>",  "<em class="rfc2119" title="may">may</em>", and
      "<em class="rfc2119" title="optional">optional</em>" in this document are to be interpreted as described in
      [<cite><a class="bibref" rel="biblioentry" href="#bib-RFC2119">RFC2119</a></cite>].</p>
    </div> 

</div> 





    <div id="grammar-notation" class="section"> 
<!--OddPage--><h2><span class="secno">2. </span>Grammar Notation</h2>

<p>This specification includes a grammar for PROV-N expressed using the Extended  Backus-Naur Form (EBNF) notation.</p>

<div class="grammar">
<p> Each production rule (or <dfn id="dfn-production">production</dfn>, for short) in the grammar defines one non-terminal symbol, in the form:</p>
<p>
<span class="nonterminal">E</span>&nbsp;::= <em>expression</em>
</p>


Within the expression on the right-hand side of a rule, the following expressions are used to match strings of one or more characters:
<ul>
<li> 
<span class="nonterminal">E</span>: matches term satisfying rule for symbol E.
</li>

<li> 
<span class="name">abc</span>: matches the literal string inside the single quotes.
</li>


<li> 
<span class="optional"><em>expression</em></span>: matches <em>expression</em> or nothing; optional <em>expression</em>.
</li>

<li> 
<span class="plus"><em>expression</em></span>: matches one or more occurrences of <em>expression</em>.
</li>

<li> 
<span class="star"><em>expression</em></span>: matches zero or more occurrences of <em>expression</em>.
</li>

</ul>
</div>

</div>


<div id="data-model-concepts" class="section"> 

<!--OddPage--><h2><span class="secno">3. </span>PROV-DM Core</h2>

<p>Instances of the PROV-DM data model are expressed in PROV-N by a text conformant with the toplevel <a href="#dfn-production" class="internalDFN">production</a> <span class="nonterminal">expression</span> of the grammar. These <span class="nonterminal">expression</span>s are grouped in two categories:
<span class="nonterminal">elementExpression</span> (see section <a href="#expression-element">Element</a>) and
<span class="nonterminal">relationExpression</span>  (see section <a href="#expression-relation">Relation</a>).</p>


<div class="grammar">
<span class="nonterminal">expression</span>&nbsp;::=  
<span class="nonterminal">elementExpression</span> 
| <span class="nonterminal">relationExpression</span> 
<br>
<!-- -->
<br>
<span class="nonterminal">elementExpression</span>&nbsp;::=  
<span class="nonterminal">entityExpression</span> 
| <span class="nonterminal">activityExpression</span> 
| <span class="nonterminal">agentExpression</span>
| <span class="nonterminal">noteExpression</span> <br>
<!-- -->
<br>
<span class="nonterminal">relationExpression</span>&nbsp;::=  
<span class="nonterminal">generationExpression</span> 
| <span class="nonterminal">usageExpression</span> 
| <span class="nonterminal">derivationExpression</span> 
| <span class="nonterminal">activityAssociationExpression</span> 
| <span class="nonterminal">responsibilityExpression</span> 
| <span class="nonterminal">startExpression</span> 
| <span class="nonterminal">endExpression</span> 
| <span class="nonterminal">alternateExpression</span> 
| <span class="nonterminal">specializationExpression</span>
| <span class="nonterminal">annotationExpression</span> 
</div>




<div id="expression-element" class="section"> 
<h3><span class="secno">3.1 </span>Element</h3>

<p>PROV-DM elements can be entities, activities, agents, or notes. This section defines a production for the textual representation of each of these element types. </p>

   <div id="expression-Entity" class="section"> 
      
<h4><span class="secno">3.1.1 </span>Entity</h4>


<div class="withPn">
<p>
An entity's text matches the <span class="nonterminal">entityExpression</span> production.
</p>

<div class="grammar">
<span class="nonterminal">entityExpression</span>&nbsp;::=  
<span class="name">entity</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br><br>
<!-- -->
<span class="nonterminal">optional-attribute-values</span>&nbsp;::= 
<span class="optional"><span class="name">,</span>
<span class="name">[</span>
<span class="nonterminal">attribute-values</span>
<span class="name">]</span>
</span><br>
<span class="nonterminal">attribute-values</span>&nbsp;::=  
<span class="nonterminal">attribute-value</span>
| <span class="nonterminal">attribute-value</span> <span class="name">,</span> <span class="nonterminal">attribute-values</span>
<br>
<span class="nonterminal">attribute-value</span>&nbsp;::=  
<span class="nonterminal">attribute</span>
<span class="name">=</span>
<span class="nonterminal">Literal</span>
<br>
</div>
</div>

<div class="anexample">
<pre class="codeexample">entity(tr:WD-prov-dm-20111215)
entity(tr:WD-prov-dm-20111215, [ prov:type="document" ])
entity(tr:WD-prov-dm-20111215, [ prov:type="document", ex:version=2 ])
</pre>
</div>


    </div> 

    <div id="expression-Activity" class="section"> 
      
<h4><span class="secno">3.1.2 </span>Activity</h4>


<div class="withPn">
<p>An activity's text matches the <span class="nonterminal">activityExpression</span> production.</p>



<div class="grammar">
<span class="nonterminal">activityExpression</span>&nbsp;::=  
<span class="name">activity</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="name">,</span>
<span class="optional"><span class="nonterminal">time</span></span>
<span class="name">,</span>
<span class="optional"><span class="nonterminal">time</span></span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>
</div>

<div class="anexample">
<pre class="codeexample">activity(ex:edit1,,)
activity(ex:edit1,,,[prov:type="edit"])
activity(ex:a0, 2011-11-16T16:00:00,,[prov:type="createFile"])
activity(ex:a0, 2011-11-16T16:00:00, 2011-11-16T16:00:01, [prov:type="createFile"])
</pre>
</div>


</div> 

<div id="expression-Agent" class="section">
<h4><span class="secno">3.1.3 </span>Agent</h4>


<div class="withPn">
<p>An agent's text matches the <span class="nonterminal">agentExpression</span> production.
</p>


<div class="grammar">
<span class="nonterminal">agentExpression</span>&nbsp;::= 
<span class="name">agent</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>
</div>

<div class="anexample">
<pre class="codeexample">agent(ag4)
agent(ag4, [ prov:type="prov:Human" %% xsd:QName, ex:name="David" ])
</pre>
</div>


</div>

   <div id="expression-note" class="section"> 
      
<h4><span class="secno">3.1.4 </span>Note</h4>

<div class="withPn">
<p>A note's text matches the <span class="nonterminal">noteExpression</span> production.
</p>


<div class="grammar">
<span class="nonterminal">noteExpression</span>&nbsp;::= 
<span class="name">note</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="name">,</span>
<span class="nonterminal">attribute-values</span>
<span class="name">)</span><br>
<!-- -->
</div>
</div>

<div class="anexample">
<pre class="codeexample">note(ann1,[ex:color="blue", ex:screenX=20, ex:screenY=30])
</pre>
</div>

   </div> 

</div>


<div id="expression-relation" class="section">
<h3><span class="secno">3.2 </span>Relation</h3>

<p>
PROV-DM relations can be generation, usage, derivation, activity association, responsibility chain, activity start, activity end, alternate, specialization, or annotations. This section defines a production for the textual representation of each of these relation types. </p>



<div id="expression-Generation" class="section">
<h4><span class="secno">3.2.1 </span>Generation</h4>


<div class="withPn">
<p>A generation's text matches the <span class="nonterminal">generationExpression</span> production.</p>

<div class="grammar">
<span class="nonterminal">generationExpression</span>&nbsp;::=  
<span class="name">wasGeneratedBy</span>
<span class="name">(</span>
<span class="optional"> <span class="nonterminal">identifier</span>
<span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
<span class="optional"><span class="nonterminal">aIdentifier</span></span>
<span class="optional"><span class="name">,</span>
<span class="nonterminal">time</span></span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br>
</div>
</div>

<div class="anexample">
<pre class="codeexample">wasGeneratedBy(tr:WD-prov-dm-20111215, ex:edit1)
wasGeneratedBy(tr:WD-prov-dm-20111215, ex:edit1, 2011-11-16T16:00:00)
wasGeneratedBy(ex:g1, tr:WD-prov-dm-20111215, ex:edit1)
wasGeneratedBy(e2, a1, [ex:fct="save"])     
</pre>
</div>


</div>


<div id="expression-Usage" class="section">
<h4><span class="secno">3.2.2 </span>Usage</h4>



<p>A usage's text matches the <span class="nonterminal">usageExpression</span> production.</p>

<div class="grammar">
<span class="nonterminal">usageExpression</span>&nbsp;::=  
<span class="name">used</span>
<span class="name">(</span>
<span class="optional">
<span class="nonterminal">identifier</span>
<span class="name">,</span>
</span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">eIdentifier</span>
<span class="optional">
<span class="name">,</span>
 <span class="nonterminal">time</span>
</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br>
</div>


<div class="anexample">
<pre class="codeexample">used(ex:pub2, ar3:0111)
used(ex:pub2, ar3:0111, 2011-11-16T16:00:00)
used(ex:u1, ex:pub2, ar3:0111)
used(a1,e1,[ex:fct="load"])
</pre>
</div>

</div>






<div id="expression-ActivityAssociation" class="section">
<h4><span class="secno">3.2.3 </span>Activity Association</h4>


<p>An activity association's text matches the <span class="nonterminal">activityAssociationExpression</span> productions of the grammar defined in this specification
document.</p>

<div class="grammar">
<span class="nonterminal">activityAssociationExpression</span>&nbsp;::= 
<span class="name">wasAssociatedWith</span>
<span class="name">(</span>
<span class="optional"><span class="nonterminal">identifier</span>,</span>
<span class="nonterminal">aIdentifier</span>,
<span class="nonterminal">agIdentifier</span>
<span class="optional">,<span class="nonterminal">eIdentifier</span></span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>



<div class="anexample">
<pre class="codeexample">wasAssociatedWith(ex:pub2, w3:Consortium)
wasAssociatedWith(ex:pub2, w3:Consortium  @ pr:rec-advance)
wasAssociatedWith(ex:pub2, w3:Consortium  @ pr:rec-advance, [prov:role="funder"])
</pre>
</div>

</div>

<div id="expression-Start-End" class="section">
<h4><span class="secno">3.2.4 </span>Activity Start and End</h4>


<p>Activity start and end texts match the <span class="nonterminal">startExpression</span> and <span class="nonterminal">endExpression</span> productions of the grammar defined in this
specification document.
</p>


<div class="grammar">
<span class="nonterminal">startExpression</span>&nbsp;::= 
<span class="name">wasStartedBy</span>
<span class="name">(</span>
<span class="optional"> <span class="nonterminal">identifier</span>,</span>
<span class="nonterminal">aIdentifier</span>,
<span class="nonterminal">agIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br>
<span class="nonterminal">endExpression</span>&nbsp;::= 
<span class="name">wasEndedBy</span>
<span class="name">(</span>
<span class="optional"> <span class="nonterminal">identifier</span>,</span>
<span class="nonterminal">aIdentifier</span>,
<span class="nonterminal">agIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>


</div>







<div id="expression-responsibility" class="section">

<h4><span class="secno">3.2.5 </span>Responsibility Chain</h4>



<div class="grammar">
<span class="nonterminal">responsibilityExpression</span>&nbsp;::= 
<span class="name">actedOnBehalfOf</span>
<span class="name">(</span>
<span class="optional"> <span class="nonterminal">identifier</span>,</span>
<span class="nonterminal">agIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">agIdentifier</span>
<span class="name">,</span>
<span class="optional"><span class="nonterminal">aIdentifier</span></span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>

<div class="anexample">
<pre class="codeexample">actedOnBehalfOf(ag1,ag2)
actedOnBehalfOf(ag1,ag2,a)
actedOnBehalfOf(ag1,ag2,[prov:type="delegation"])
actedOnBehalfOf(ag2,ag3,a,[prov:type="contract"])
</pre>
</div>

</div>

<div id="Derivation-Relation" class="section">
<h4><span class="secno">3.2.6 </span>Derivation</h4>



<p>A derivation record's text matches the <span class="nonterminal">derivationExpression</span> production.</p>

<div class="grammar">
<span class="nonterminal">derivationExpression</span>&nbsp;::= 
<span class="name">wasDerivedFrom</span>
<span class="name">(</span>
<span class="optional"> <span class="nonterminal">identifier</span>,</span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">gIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">uIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>


<div class="anexample">
<pre class="codeexample">wasDerivedFrom(tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018)
wasDerivedFrom(e2, e1, a, g2, u1)
</pre>
</div>



<!--
<p>In PROV-DM, the effective placeholder for an entity generation time is the <a>generation record</a>. The presence of 
time information in imprecise derivation records is merely a convenience notation for a timeless derivation record and a generation record with this generation time information. </p>

<div class='syntax' id="derivation-time-elimination">
<span class='conditional'>If</span> <span class="name">wasDerivedFrom(e2,e1,t,attrs)</span> holds, <span class='conditional'>then</span> the following records also hold:
<span class="name">wasDerivedFrom(e2,e1,attrs)</span> and <span class="name">wasGeneratedBy(e2,t)</span>.
</div>



<div class='pending'>Should derivation have a time? Which time? This is   <a href="http://www.w3.org/2011/prov/track/issues/43">ISSUE-43</a>.<em>This is now addressed in this text. Optional time in derivation is generation time. See also    <a href="http://www.w3.org/2011/prov/track/issues/205">ISSUE-205</a>.</em></div>

-->

</div>


<div id="expression-alternate-specialization" class="section">

<h4><span class="secno">3.2.7 </span>Alternate  and Specialization</h4>



<p>An alternate relation's text matches the <span class="nonterminal">alternateExpression</span> production.</p>

<div class="grammar">
   <span class="nonterminal">alternateExpression</span>&nbsp;::=
  <span class="name">alternateOf</span> 
<span class="name">(</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">,</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">)</span>  
</div>

<div class="anexample">
<pre class="codeexample">alternateOf(tr:WD-prov-dm-20111215,ex:alternate-20111215)
</pre>
</div>


<p>A specialization relation's text matches the <span class="nonterminal">specializationExpression</span>production.</p>

<div class="grammar">
   <span class="nonterminal">specializationExpression</span>&nbsp;::=
  <span class="name">specializationOf</span> 
<span class="name">(</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">,</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">)</span>  
</div>

<div class="anexample">
<pre class="codeexample">specializationOf(tr:WD-prov-dm-20111215,tr:prov-dm)
</pre>
</div>




</div>






<div id="expression-annotation" class="section">
<h4><span class="secno">3.2.8 </span>Annotation</h4>


<p>A note's text matches the <span class="nonterminal">noteExpression</span> production.
</p>

<div class="grammar">
<span class="nonterminal">annotationExpression</span>&nbsp;::=  
<span class="name">hasAnnotation</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="name">,</span>
<span class="nonterminal">nIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>


<div class="anexample">
<pre class="codeexample">hasAnnotation(tr:WD-prov-dm-20111215,ex2:n1)
</pre>
</div>



</div>
</div>


<div id="subexpressions" class="section">
<h3><span class="secno">3.3 </span>Further Expressions</h3>

This section defines further expressions of PROV-N.


<div id="expression-NamespaceDeclaration" class="section">
<h4><span class="secno">3.3.1 </span>Namespace Declaration</h4>


<div class="grammar">
<span class="nonterminal">namespaceDeclarations</span>&nbsp;::=  
 |  <span class="group"><span class="nonterminal">defaultNamespaceDeclaration</span> | <span class="nonterminal">namespaceDeclaration</span></span> <span class="star"> <span class="nonterminal">namespaceDeclaration</span></span><br>
<span class="nonterminal">namespaceDeclaration</span>&nbsp;::=  
<span class="name">prefix</span> <span class="nonterminal">prefix</span> <span class="nonterminal">IRI</span><br>
<span class="nonterminal">defaultNamespaceDeclaration</span>&nbsp;::=  
 <span class="name">default</span> <span class="nonterminal">IRI</span> <br>
</div>

<p>In PROV-N, the prefix  <span class="name">prov</span> is reserved and denotes the PROV namespace.</p>
</div>


<div id="expression-identifier" class="section">
<h4><span class="secno">3.3.2 </span>Identifier</h4>


<div class="grammar">
<span class="nonterminal">identifier</span>&nbsp;::=  <span class="nonterminal">qualifiedName</span><br>
<span class="nonterminal">eIdentifier</span>&nbsp;::=  <span class="nonterminal">identifier</span>  <em>(intended to denote an entity)</em><br>
<span class="nonterminal">aIdentifier</span>&nbsp;::=  <span class="nonterminal">identifier</span>  <em>(intended to denote an activity)</em><br>
<span class="nonterminal">agIdentifier</span>&nbsp;::=  <span class="nonterminal">identifier</span>  <em>(intended to denote an agent)</em><br>
<span class="nonterminal">gIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote a generation)</em><br>
<span class="nonterminal">uIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote a usage)</em><br>
<span class="nonterminal">nIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote a note)</em><br>
<span class="nonterminal">accIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote an account)</em>
<br>
<br>
<span class="nonterminal">qualifiedName</span> &nbsp;::= <span class="nonterminal">prefixedName</span> | <span class="nonterminal">unprefixedName</span><br>
<span class="nonterminal">prefixedName</span> &nbsp;::= <span class="nonterminal">prefix</span> <span class="name">:</span> <span class="nonterminal">localPart</span><br>
<span class="nonterminal">unprefixedName</span> &nbsp;::= <span class="nonterminal">localPart</span><br>
<span class="nonterminal">prefix</span> &nbsp;::= <em>a name without colon compatible with the <a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/#NT-NCName">NC_NAME</a> production
[<cite><a class="bibref" rel="biblioentry" href="#bib-XML-NAMES">XML-NAMES</a></cite>]</em><br>
<span class="nonterminal">localPart</span> &nbsp;::= <em>a name without colon compatible with the <a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/#NT-NCName">NC_NAME</a> production
[<cite><a class="bibref" rel="biblioentry" href="#bib-XML-NAMES">XML-NAMES</a></cite>]</em>
</div>


<div class="note">Note that XML NC_NAME don't allow local identifiers to start with a number.  Instead, should we use the productions used in SPARQL or TURTLE?</div>

</div>

<div id="expression-attribute" class="section">
<h4><span class="secno">3.3.3 </span>Attribute</h4>


<p>An attribute's text matches the <span class="nonterminal">attribute</span> production.</p>

<div class="grammar">
<span class="nonterminal">attribute</span>&nbsp;::=  <span class="nonterminal">qualifiedName</span><br>
</div>

<p>The  reserved attributes in the PROV namespace are the following.</p>

<ol>
<li>  <span class="name">prov:label</span>
</li><li>  <span class="name">prov:location</span>
</li><li>  <span class="name">prov:role</span>
</li><li>  <span class="name">prov:steps</span>
</li><li>  <span class="name">prov:type</span>
</li></ol>


</div>





<div id="expression-literal" class="section">
<h4><span class="secno">3.3.4 </span>Literal</h4>

<p>A Literal's text matches the <span class="nonterminal">Literal</span> production.</p>

<div class="grammar">
<span class="nonterminal">Literal</span> &nbsp;::= <span class="nonterminal">typedLiteral</span> | <span class="nonterminal">convenienceNotation</span> <br>
<span class="nonterminal">typedLiteral</span> ::= <span class="nonterminal">quotedString</span> <span class="name">%%</span> <span class="nonterminal">datatype</span><br>
<span class="nonterminal">datatype</span> ::= <span class="nonterminal">qualifiedName</span><br>
<span class="nonterminal">convenienceNotation</span> &nbsp;::= <span class="nonterminal">stringLiteral</span> | <span class="nonterminal">intLiteral</span><br>
<span class="nonterminal">stringLiteral</span> ::= <span class="nonterminal">quotedString</span><br>
<span class="nonterminal">quotedString</span> ::= <em>a finite sequence of characters in which " (U+22) and \ (U+5C) occur only in pairs of the form \" (U+5C, U+22) and \\ (U+5C,
U+5C), enclosed in a pair of " (U+22) characters</em><br>
<span class="nonterminal">intLiteral</span> ::= <em>a finite-length sequence of decimal digits (#x30-#x39) with an optional leading negative sign (-)</em>
</div>

<p>The non terminals <span class="nonterminal">stringLiteral</span> and
<span class="nonterminal">intLiteral</span>
are syntactic sugar for quoted strings with datatype <span class="name">xsd:string</span> and <span class="name">xsd:int</span>, respectively.
</p>

<p> In particular, a PROV-DM Literal may be an IRI-typed string (with datatype <span class="name">xsd:anyURI</span>);  such IRI has no specific interpretation in the context of PROV-DM.</p>

<div id="expression-types" class="section">
<h5><span class="secno">3.3.4.1 </span>Reserved Type Values</h5>

<p>The  reserved type values in the PROV namespace are the following.</p>

<ol>
<li>  <span class="name">prov:AccountEntity</span>
</li><li>  <span class="name">prov:SoftwareAgent</span>
</li><li>  <span class="name">prov:Person</span>
</li><li>  <span class="name">prov:Organization</span>
</li><li>  <span class="name">prov:Plan</span>
</li><li>  <span class="name">prov:Collection</span>
</li><li>  <span class="name">prov:EmptyCollection</span>
</li></ol>

</div>

<div id="expression-Time" class="section">
<h5><span class="secno">3.3.4.2 </span>Time Values</h5>

<p><dfn id="dfn-time">Time instants</dfn> are defined according to xsd:dateTime [<cite><a class="bibref" rel="biblioentry" href="#bib-XMLSCHEMA-2">XMLSCHEMA-2</a></cite>].</p> 




</div>


</div>












 
</div>
</div>

<div id="common-relations" class="section"> 
<!--OddPage--><h2><span class="secno">4. </span>Common Relations</h2>

<div class="note">
TO ADD
</div>
</div>





<div id="ExpressionContainer" class="section">
<!--OddPage--><h2><span class="secno">5. </span>Expression Container</h2>

<p>An <dfn id="dfn-ExpressionContainer">expression container</dfn> is a house-keeping construct of PROV-N capable of packaging up PROV-N <a title="expression">expressions</a> and namespace declarations.  An expression container forms a self-contained package of provenance descriptions for the purpose of <em>exchanging</em> them.  An expression container may be used
 to  package up PROV-N <a title="record">expressions</a> in response to a request for the provenance of something ([<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-AQ">PROV-AQ</a></cite>]).</p>

<p> Given its status of house keeping construct for the purpose of exchanging provenance expressions,  an expression container is not defined as a PROV-N expression (<a href="#data-model-concepts">production <span class="nonterminal">expression</span></a>).</p> 


<p>An expression container, written <span class="name">container decls  exprs endContainer</span> in PROV-N, contains:
</p><ul>
<li><em>namespaceDeclarations</em>: a set <span class="name">decls</span> of namespace declarations, declaring namespaces and associated prefixes, which can be used in <a title="attribute">attributes</a> and  <a title="identifier">identifiers</a> occurring inside  <span class="name">exprs</span>;</li>
<li><em>expressions</em>:  a non-empty set of expressions <span class="name">exprs</span>.</li>
</ul>

<p>An expression container's text matches the <span class="nonterminal">expressionContainer</span> production.</p>


<div class="grammar">
<span class="nonterminal">expressionContainer</span> ::=  
<span class="name">container</span> 
<span class="nonterminal">namespaceDeclarations</span> 
<span class="plus"> <span class="nonterminal">expression</span> </span>
<span class="name">endContainer</span> 
</div>


<div class="anexample">
<p>
The following container contains expressions related to the provenance of entity 
<span class="name">e2</span>.
</p>
<pre class="codeexample">container

  prefix ex: http://example.org/,

  entity(e2, [ prov:type="File", ex:path="/shared/crime.txt", ex:creator="Alice", 
             ex:content="There was a lot of crime in London last month."])
  activity(a1, 2011-11-16T16:05:00,,[prov:type="edit"])
  wasGeneratedBy(e2, a1, [ex:fct="save"])     
  wasAssociatedWith(a1, ag2, [prov:role="author"])
  agent(ag2, [ prov:type="prov:Person" %% xsd:QName, ex:name="Bob" ])

endContainer
</pre>
<p>This container could for instance be returned as the result of a query to a provenance store for the provenance of entity <span class="name">e2</span> [<cite><a class="bibref" rel="biblioentry" href="#bib-PROV-AQ">PROV-AQ</a></cite>].  
</p>
</div>



<div class="issue">
Clarify what records are. This is <a href="http://www.w3.org/2011/prov/track/issues/208">ISSUE-208</a>. </div>
</div>


<div id="account" class="section">
<!--OddPage--><h2><span class="secno">6. </span>Account</h2>

<p>PROV-DM has introduced a notion of account by which a set of provenance descriptions can be bundled up and named.  PROV-DM <em>assumes</em> the existence of mechanisms to implement accounts, but such mechanisms remain outside its scope.  It is suggested that specific serializations may offer solutions to name bundles of descriptions. </p>

<p>Given that the primary motivation for PROV-N is to provide a notation aimed at human consumption, it is therefore appropriate to introduce a notation for accounts, which would include an account name and a bundle of expressions.</p>



<p>An account, written <span class="name">account(id, exprs)</span> in PROV-N, contains:</p>
<ul>
<li><em>id</em>: an identifier <span class="name">id</span>  that identifies this account;</li>
<li><em>expressions</em>: a set <span class="name">exprs</span> of expressions;</li>
</ul>

<p>In PROV-N, an account's text matches the <span class="nonterminal">accountExpression</span> production of the grammar.</p>

<div class="grammar">
<span class="nonterminal">accountExpression</span>&nbsp;::=  
<span class="name">account</span> 
<span class="name">(</span> 
<span class="nonterminal">identifier</span> 
<span class="name">,</span> 
<span class="plus">
<span class="nonterminal">expression</span> </span>
<span class="name">)</span> 
</div>

<p>It is also useful to package up one or more account expressions in an expression container, for interchange purpose. Hence,  <span class="nonterminal">expressionContainer</span> is revised as follows. </p>

<div class="grammar">
<span class="nonterminal">expressionContainer</span> ::=  
<span class="name">container</span> 
<span class="nonterminal">namespaceDeclarations</span> 
<span class="plus"> <span class="nonterminal">expression</span> </span>
<span class="name">endContainer</span>   <br>
| <span class="name">container</span> 
<span class="nonterminal">namespaceDeclarations</span> 
<span class="plus"> <span class="nonterminal">accountExpression</span> </span>
<span class="name">endContainer</span>  
</div>



<div class="anexample">
<p>
The following container </p>
<pre class="codeexample">container
  prefix ex: http://example.org/,

  account(ex:acc1,...)
  account(ex:acc2,...)
endContainer
</pre>
<p> illustrates how two accounts with identifiers <span class="name">ex:acc1</span> and <span class="name">ex:acc2</span> can be returned in a PROV-N serialization of the provenance of
something.
</p>
</div>


<div class="anexample">
<p>
The following container </p>
<pre class="codeexample">container
  prefix ex: http://example.org/,
  ...

  account(ex:acc1,
      entity(tr:WD-prov-dm-20111018, [ prov:type="pr:RecsWD" %% xsd:QName ])
      entity(tr:WD-prov-dm-20111215, [ prov:type="pr:RecsWD" %% xsd:QName ])
      ...
      wasAssociatedWith(ex:pub2, w3:Consortium  @ pr:rec-advance))

  account(ex:acc2,
      entity(ex:acc1, [prov:type="prov:AccountEntity" %% xsd:QName ])
      wasAttributedTo(ex1:acc1,w3:Consortium))

endContainer
</pre>
<p> illustrates a first account, with identifier <span class="name">ex:acc1</span>, containing expressions describing the provenance  of the technical report <span class="name">tr:WD-prov-dm-20111215</span>, and a second account <span class="name">ex:acc2</span>, describing the provenance of the first.  In account <span class="name">ex:acc2</span>, <span class="name">ex:acc1</span> is the identifier of an entity of type <span class="name">prov:AccountEntity</span>.
</p>
</div>

</div>

<!-- no longer necessary to say that.

<p>All the records in <span class="name">recs</span> are implictly wrapped in a default account, scoping all the record identifiers they declare directly, and constituting a toplevel
account, in the hierarchy of accounts.  Consequently, every provenance record is always expressed in the context of an account, either explicitly in an asserted account, or implicitly in a
container's default account.</p>

-->






 
<div id="references" class="appendix section"><!--OddPage--><h2><span class="secno">A. </span>References</h2><div id="normative-references" class="section"><h3><span class="secno">A.1 </span>Normative references</h3><dl class="bibliography"><dt id="bib-OWL2-SYNTAX">[OWL2-SYNTAX]</dt><dd>Boris Motik; Peter F. Patel-Schneider; Bijan Parsia. <a href="http://www.w3.org/TR/2009/REC-owl2-syntax-20091027/"><cite>OWL 2 Web Ontology Language:Structural Specification and Functional-Style Syntax.</cite></a> 27 October 2009. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2009/REC-owl2-syntax-20091027/">http://www.w3.org/TR/2009/REC-owl2-syntax-20091027/</a> 
</dd><dt id="bib-PROV-O">[PROV-O]</dt><dd>Satya Sahoo and Deborah McGuinness (eds.) Khalid Belhajjame, James Cheney, Daniel Garijo, Timothy Lebo, Stian Soiland-Reyes, and Stephan Zednik <a href="http://www.w3.org/TR/prov-o/"><cite>Provenance Formal Model</cite></a>. 2011, Working Draft. URL: <a href="http://www.w3.org/TR/prov-o/">http://www.w3.org/TR/prov-o/</a>
</dd><dt id="bib-RFC2119">[RFC2119]</dt><dd>S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for use in RFCs to Indicate Requirement Levels.</cite></a> March 1997. Internet RFC 2119.  URL: <a href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a> 
</dd><dt id="bib-XML-NAMES">[XML-NAMES]</dt><dd>Richard Tobin; et al. <a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/"><cite>Namespaces in XML 1.0 (Third Edition).</cite></a> 8 December 2009. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/">http://www.w3.org/TR/2009/REC-xml-names-20091208/</a> 
</dd><dt id="bib-XMLSCHEMA-2">[XMLSCHEMA-2]</dt><dd>Paul V. Biron; Ashok Malhotra. <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/"><cite>XML Schema Part 2: Datatypes Second Edition.</cite></a> 28 October 2004. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/">http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/</a> 
</dd></dl></div><div id="informative-references" class="section"><h3><span class="secno">A.2 </span>Informative references</h3><dl class="bibliography"><dt id="bib-PROV-AQ">[PROV-AQ]</dt><dd>Graham Klyne and Paul Groth (eds.) Luc Moreau, Olaf Hartig, Yogesh Simmhan, James Meyers, Timothy Lebo, Khalid Belhajjame, and Simon Miles <a href="http://www.w3.org/TR/prov-aq/"><cite>Provenance Access and Query</cite></a>. 2011, Working Draft. URL: <a href="http://www.w3.org/TR/prov-aq/">http://www.w3.org/TR/prov-aq/</a>
</dd><dt id="bib-PROV-DM">[PROV-DM]</dt><dd>Luc Moreau and Paolo Missier (eds.) ... <a href="http://www.w3.org/TR/prov-dm/"><cite>PART 1: PROV-DM ...</cite></a>. 2011, Working Draft. URL: <a href="http://www.w3.org/TR/prov-dm/">http://www.w3.org/TR/prov-dm/</a>
</dd><dt id="bib-PROV-DM-CONSTRAINTS">[PROV-DM-CONSTRAINTS]</dt><dd>Luc Moreau and Paolo Missier (eds.) ... <a href="http://www.w3.org/TR/prov-dm-constraints/"><cite>PROV-DM Constraints</cite></a>. 2011, Working Draft. URL: <a href="http://www.w3.org/TR/prov-dm-constraints/">http://www.w3.org/TR/prov-dm-constraints/</a>
</dd><dt id="bib-PROV-PRIMER">[PROV-PRIMER]</dt><dd>Yolanda Gil and Simon Miles (eds.) Khalid Belhajjame, Helena Deus, Daniel Garijo, Graham Klyne, Paolo Missier, Stian Soiland-Reyes, and Stephan Zednik <a href="http://www.w3.org/TR/prov-primer/"><cite>Prov Model Primer</cite></a>. 2011, Working Draft. URL: <a href="http://www.w3.org/TR/prov-primer/">http://www.w3.org/TR/prov-primer/</a>
</dd><dt id="bib-PROV-RDF">[PROV-RDF]</dt><dd>James Cheney<a href="http://www.w3.org/2011/prov/wiki/ProvRDF"><cite>PROV-RDF Mapping </cite></a>2012, Working in Progress. URL: <a href="http://www.w3.org/2011/prov/wiki/ProvRDF">http://www.w3.org/2011/prov/wiki/ProvRDF</a>
</dd><dt id="bib-PROV-SEM">[PROV-SEM]</dt><dd>James Cheney <a href="http://www.w3.org/2011/prov/wiki/FormalSemanticsStrawman"><cite>Formal Semantics Strawman</cite></a>. 2011, Work in progress. URL: <a href="http://www.w3.org/2011/prov/wiki/FormalSemanticsStrawman">http://www.w3.org/2011/prov/wiki/FormalSemanticsStrawman</a>
</dd><dt id="bib-PROV-XML">[PROV-XML]</dt><dd>James Cheney<a href="http://www.w3.org/2011/prov/wiki/ProvXML"><cite>PROV-XML Mapping </cite></a>2012, Working in Progress. URL: <a href="http://www.w3.org/2011/prov/wiki/ProvXML">http://www.w3.org/2011/prov/wiki/ProvXML</a>
</dd></dl></div></div></body></html>
