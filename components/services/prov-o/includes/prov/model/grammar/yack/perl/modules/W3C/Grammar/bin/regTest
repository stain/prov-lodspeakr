#!/usr/bin/perl

use strict;

sub ToFold {
  print join (', ', @_),"\n";
  return 1;
}

sub test {
  my ($test, $regexp, $fold) = @_;
  if ($fold) {
    print $test =~ m/\G($regexp)/gci;
  } else {
    print $test =~ m/\G($regexp)/gc;
  }
  print "\n";
}

my $IT_prefix = "prefix";
my $T_NCCHAR1 = "(?:(?:(?:(?:(?:(?:(?:(?:(?:(?:(?:[A-Z])|(?:[a-z]))|(?:[\x{00C0}-\x{00D6}]))|(?:[\x{00D8}-\x{00F6}]))|(?:[\x{00F8}-\x{02FF}]))|(?:[\x{0370}-\x{037D}]))|(?:[\x{037F}-\x{1FFF}]))|(?:[\x{200C}-\x{200D}]))|(?:[\x{2070}-\x{218F}]))|(?:[\x{2C00}-\x{2FEF}]))|(?:[\x{3001}-\x{D7FF}]))|(?:[\x{F900}-\x{FFFE}])";
my $T_Q_URIref = "<(?:[^> ])*>"; # /* A URI relative reference : RFC 3896 :/*

&test('prefix foo bar', $IT_prefix, 1);
&test('asfd hibby hop', $T_NCCHAR1, 0);
&test('<as#fd> hibby hop', $T_Q_URIref, 0);
