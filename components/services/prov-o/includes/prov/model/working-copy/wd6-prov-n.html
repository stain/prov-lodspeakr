 <!DOCTYPE html>

<html><head> 
    <title>PROV-N: The Provenance Notation</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
    <!-- 
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
<!-- PM -->
    <style type="text/css">
      .note { font-size:small; margin-left:50px }
     </style>

    <script src="http://dev.w3.org/2009/dap/ReSpec.js/js/respec.js" class="remove"></script> 
    <script src="http://www.w3.org/2007/OWL/toggles.js" class="remove"></script> 
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" class="remove"></script>

    <script class="remove">
      function updateGlossaryRefs() {
        $('.glossary-ref').each(function(index) {
          var ref=$(this).attr('ref');
          $('#'+ref+'.glossary').contents().clone().appendTo($(this));
          $(this).children('dfn').replaceWith(function(){return $('<span>').addClass('dfn').append($(this).contents())});
        });
      }
      $(document).ready(updateGlossaryRefs);
    function glossary_include(doc, content) {
        window.setTimeout(updateGlossaryRefs, 1000);
        return content;
    }
    </script>

    <script class="remove"> 
      var addExtraReferences = function() {
          for (var k in extraReferences)
              berjon.biblio[k] = extraReferences[k];
      };
      var extraReferences = {
        "CLOCK":
         "Lamport, L. "+
         "<a href=\"http://research.microsoft.com/users/lamport/pubs/time-clocks.pdf\"><cite>Time, clocks, and the ordering of events in a distributed system</cite></a>."+
         "Communications of the ACM 21 (7): 558â€“565. 1978. "+
         "URL: <a href=\"http://research.microsoft.com/users/lamport/pubs/time-clocks.pdf\">http://research.microsoft.com/users/lamport/pubs/time-clocks.pdf</a> " +
         "DOI: doi:10.1145/359545.359563.",
        "CSP":
         "Hoare, C. A. R. "+
         "<a href=\"http://www.usingcsp.com/cspbook.pdf\"><cite>Communicating Sequential Processes</cite></a>."+
         "Prentice-Hall. 1985"+
         "URL: <a href=\"http://www.usingcsp.com/cspbook.pdf\">http://www.usingcsp.com/cspbook.pdf</a>",
        "Logic":
          "W. E. Johnson"+
          "<a href=\"http://www.ditext.com/johnson/intro-3.html\"><cite>Logic: Part III</cite></a>."+
          "1924. "+
          "URL: <a href=\"http://www.ditext.com/johnson/intro-3.html\">http://www.ditext.com/johnson/intro-3.html</a>",



        "PROV-RDF":
          "James Cheney"+
          "<a href=\"http://www.w3.org/2011/prov/wiki/ProvRDF\"><cite>PROV-RDF Mapping </cite></a>"+
          "2012, Working in Progress. "+
          "URL: <a href=\"http://www.w3.org/2011/prov/wiki/ProvRDF\">http://www.w3.org/2011/prov/wiki/ProvRDF</a>",

        "PROV-XML":
          "James Cheney"+
          "<a href=\"http://www.w3.org/2011/prov/wiki/ProvXML\"><cite>PROV-XML Mapping </cite></a>"+
          "2012, Working in Progress. "+
          "URL: <a href=\"http://www.w3.org/2011/prov/wiki/ProvXML\">http://www.w3.org/2011/prov/wiki/ProvXML</a>",


        "PROV-DM":
          "Luc Moreau and Paolo Missier (eds.) Khalid Belhajjame, Reza B'Far, Stephen Cresswell, Yolanda Gil, Paul Groth, Graham Klyne, Jim McCusker, Simon Miles, James Myers, Satya Sahoo, and Curt Tilmes"+
          "<a href=\"http://www.w3.org/TR/prov-dm/\"><cite>PROV-DM: The PROV Data Model</cite></a>. "+
          "2012, Working Draft. "+
          "URL: <a href=\"http://www.w3.org/TR/prov-dm/\">http://www.w3.org/TR/prov-dm/</a>",

        "PROV-CONSTRAINTS":
          "James Cheney, Paolo Missier, and Luc Moreau (eds.)"+
          "<a href=\"http://www.w3.org/TR/prov-constraints/\"><cite>Constraints of the Prov Data Model</cite></a>. "+
          "2012, Working Draft. "+
          "URL: <a href=\"http://www.w3.org/TR/prov-constraints/\">http://www.w3.org/TR/prov-constraints/</a>",


        "PROV-SEM":
          "James Cheney "+
          "<a href=\"http://www.w3.org/2011/prov/wiki/FormalSemanticsStrawman\"><cite>Formal Semantics Strawman</cite></a>. "+
          "2011, Work in progress. "+
          "URL: <a href=\"http://www.w3.org/2011/prov/wiki/FormalSemanticsStrawman\">http://www.w3.org/2011/prov/wiki/FormalSemanticsStrawman</a>",

        "PROV-PRIMER":
          "Yolanda Gil and Simon Miles (eds.) Khalid Belhajjame, Helena Deus, Daniel Garijo, Graham Klyne, Paolo Missier, Stian Soiland-Reyes, and Stephan Zednik "+
          "<a href=\"http://www.w3.org/TR/prov-primer/\"><cite>Prov Model Primer</cite></a>. "+
          "2011, Working Draft. "+
          "URL: <a href=\"http://www.w3.org/TR/prov-primer/\">http://www.w3.org/TR/prov-primer/</a>",

        "PROV-O":
          "Satya Sahoo and Deborah McGuinness (eds.) Khalid Belhajjame, James Cheney, Daniel Garijo, Timothy Lebo, Stian Soiland-Reyes, and Stephan Zednik "+
          "<a href=\"http://www.w3.org/TR/prov-o/\"><cite>Provenance Formal Model</cite></a>. "+
          "2011, Working Draft. "+
          "URL: <a href=\"http://www.w3.org/TR/prov-o/\">http://www.w3.org/TR/prov-o/</a>",

        "PROV-AQ":
          "Graham Klyne and Paul Groth (eds.) Luc Moreau, Olaf Hartig, Yogesh Simmhan, James Meyers, Timothy Lebo, Khalid Belhajjame, and Simon Miles "+
          "<a href=\"http://www.w3.org/TR/prov-aq/\"><cite>Provenance Access and Query</cite></a>. "+
          "2011, Working Draft. "+
          "URL: <a href=\"http://www.w3.org/TR/prov-aq/\">http://www.w3.org/TR/prov-aq/</a>",
      };
      var respecConfig = {
          // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
          specStatus:           "ED",
          
          // the specification's short name, as in http://www.w3.org/TR/short-name/
          shortName:            "prov-n",
 
          // if your specification has a subtitle that goes below the main
          // formal title, define it here
          subtitle   :  "towards second working draft --- Working Copy",

          // if you wish the publication date to be other than today, set this
//           publishDate:  "2012-05-03",
 
          // if the specification's copyright date is a range of years, specify
          // the start date here:
         // copyrightStart: "2011",
 
          // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
          // and its maturity status
          previousPublishDate:  "2012-05-03",
          previousMaturity:  "WD",
 
          // if there a publicly available Editor's Draft, this is the link
          edDraftURI:           "http://dvcs.w3.org/hg/prov/raw-file/default/model/prov-n.html",
 
          // if this is a LCWD, uncomment and set the end of its review period
          // lcEnd: "2009-08-05",
 
          // if you want to have extra CSS, append them to this list
          // it is recommended that the respec.css stylesheet be kept
          extraCSS:             ["http://dev.w3.org/2009/dap/ReSpec.js/css/respec.css", "../extra.css"],
 
          // editors, add as many as you like
          // only "name" is required
          editors:  [
              { name: "Luc Moreau", url: "http://www.ecs.soton.ac.uk/~lavm/",
                company: "University of Southampton" },
              { name: "Paolo Missier", url: "http://www.cs.ncl.ac.uk/people/Paolo.Missier",
                company: "Newcastle University" },
          ],
 
          // authors, add as many as you like. 
          // This is optional, uncomment if you have authors as well as editors.
          // only "name" is required. Same format as editors.

//          authors:  [
//              { name: "TBD" },
//         ],
 
          
          // name of the WG
          wg:           "Provenance Working Group",
          
          // URI of the public WG page
          wgURI:        "http://www.w3.org/2011/prov/",
          
          // name (with the @w3c.org) of the public mailing to which comments are due
          wgPublicList: "public-prov-wg",
          
          // URI of the patent status for this WG, for Rec-track documents
          // !!!! IMPORTANT !!!!
          // This is important for Rec-track documents, do not copy a patent URI from a random
          // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
          // Team Contact.
          wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/46974/status",

          // Add extraReferences to bibliography database
          preProcess: [addExtraReferences],
      };
    </script> 
  </head> 
  <body> 

    <section id="abstract">
<p>
PROV-DM, the PROV data model, is a data model for provenance that describes
the entities, people and activities involved in
producing a piece of data or thing. 
PROV-DM is structured in six components, dealing with: 
(1) entities and activities, and the time at which they were created, used, or ended;
(2) agents bearing responsibility for entities that were generated and activities that happened;
(3) derivations of entities from entities;
(4) properties to link entities that refer to the same thing;
(5) collections forming a logical structure for its members;
(6) a simple annotation mechanism.
<p>
<p>To provide examples of the PROV data model, the PROV notation (PROV-N) is introduced: aimed at human consumption, PROV-N allows serializations of PROV
instances to be created in a compact manner. PROV-N facilitates the
mapping of the PROV data model to concrete syntax, and is used as the basis for a
formal semantics of PROV.  The purpose of this document is to define the PROV-N notation.
</p>
    </section> 

<section id="sotd">
<h4>PROV Family of Specifications</h4>
This document is part of the PROV family of specifications, a set of specifications defining various aspects that are necessary to achieve the vision of inter-operable
interchange of provenance information in heterogeneous environments such as the Web.  The specifications are:
<ul>
<li> PROV-DM, the PROV data model for provenance;</li>
<li> PROV-CONSTRAINTS, a set of constraints applying to the PROV data model;</li>
<li> PROV-N, a notation for provenance aimed at human consumption  (this document);</li>
<li> PROV-O, the PROV ontology, an OWL-RL ontology allowing the mapping of PROV to RDF;</li>
<li> PROV-AQ, the mechanisms for accessing and querying provenance; </li>
<li> PROV-PRIMER, a primer for the PROV data model;</li>
<li> PROV-SEM, a formal semantics for the PROV data model;</li>
<li> PROV-XML, an XML schema for the PROV data model.</li>
</ul>
<h4>How to read the PROV Family of Specifications</h4>
<ul>
<li>The primer is the entry point to PROV offering an introduction to the provenance model.</li>
<li>The Linked Data and Semantic Web community should focus on PROV-O defining PROV classes and properties specified in an OWL-RL ontology. For further details, PROV-DM and PROV-CONSTRAINTS specify the constraints applicable to the data model, and its interpretation. PROV-SEM provides a mathematical semantics.</li>
<li>The XML community should focus on PROV-XML defining an XML schema for PROV. Further details can also be found in PROV-DM, PROV-CONSTRAINTS, and PROV-SEM.</li>
<li>Developers seeking to retrieve or publish provenance should focus on PROV-AQ.</li>
<li>Readers seeking to implement other PROV serializations
should focus on PROV-DM and PROV-CONSTRAINTS.  PROV-O, PROV-N, PROV-XML offer examples of mapping to RDF, text, and XML, respectively.</li>
</ul>



<h4>First Public Working Draft</h4>
 <p>This is the first public release of the PROV-N
document. Following feedback, the Working Group has decided to
reorganize the PROV-DM document substantially, separating the data model,
from its constraints, and the notation used to illustrate it. The
PROV-N release is synchronized with the release of the PROV-DM, PROV-O,
PROV-PRIMER, and PROV-CONSTRAINTS documents.
</section>



<section id="introduction"> 
<h2>Introduction</h2>

<p> Provenance is defined as a record that describes the people,
institutions, entities, and activities, involved in producing,
influencing, or delivering a piece of data or a thing in the world.  Two
companion specifications respectively define PROV-DM, a data model for
provenance, allowing provenance descriptions to be expressed  [[PROV-DM]]  and a set of constraints that provenance descriptions are expected to satisfy   [[PROV-CONSTRAINTS]].
</p>

<section id="purpose"> 
<h2>Purpose of this Document and target audience</h2>

A key goal of PROV is the specification of a machine-processable data model for provenance. However, communicating provenance between humans is also important when teaching, illustrating, formalizing, and discussing provenance-related issues. 

<!-- As such, representations of PROV-DM are available in RDF and XML. -->

With these two requirements in mind, this document introduces PROV-N, a syntax notation designed to  write instances of the PROV data model according to the following design principles:
<ul>
<li>Technology independence. PROV-N provides a simple syntax that can be mapped to several technologies.

<li>Human readability. PROV-N follows a functional syntax style that is meant to be easily human-readable so it can be used in illustrative examples, such as those presented in the PROV documents suite;

<li>Formality. PROV-N is defined through a formal grammar amenable to be used with parser generators.

 </ul>
  
PROV-N has several known uses:
<ul>
<li> It is the notation used in the examples found in  [[PROV-DM]], as well as in the definition of PROV constraints [[PROV-CONSTRAINTS]]; </li>
<li>  It is a source language for the encoding of PROV data model instances into a variety of target languages, including amongst others  RDF [[PROV-RDF]] and XML [[PROV-XML]]; </li>
<li> It provides the basis for a formal semantics of the PROV data model  [[PROV-SEM]], in which an interpretation is given to each element of the PROV-N language.
</ul>

<p>This document introduces the PROV-N grammar along with examples of its usage.</p>
<p>Its target audience is twofold:
<ul>
<li>Developers of provenance management applications, as well as implementors of new PROV data model encodings, and thus in particular of PROV-N parsers. These readers may be interested in the entire structure of the grammar, starting from the top level nonterminal <a href="#ExpressionContainer">container</a>.</li>
<li>Readers of the  [[PROV-DM]] and of  [[PROV-CONSTRAINTS]] documents, who are interested in the details of the formal language underpinning the notation used in the examples and in the definition of the constraints. Those readers may find the  <a href="#grammar-notation">expression</a> nonterminal a useful entry point into the grammar.</li>
</ul>

</section>

    <section id="structure-of-this-document"> 
<h3>Structure of this Document</h3>

<p>This document defines a grammar using the Extended  Backus-Naur Form (EBNF) notation. Its productions correspond to PROV data model types and relations.
</p>
It is structured as follows.

<p><a href="#general-conventions">Section 2</a> provides the design rationale for the PROV Notation.</p>

<p><a href="#grammar-notation">Section 3</a> defines the notation for the Extended  Backus-Naur Form (EBNF) grammar used in this specification.</p>

<p><a href="#prov-n-expressions">Section 4</a> presents the grammar of all expressions of the language grouped according to the PROV data model components.</p>

<p><a href="#ExpressionContainer">Section 5</a> defines the grammar of containers, a house-keeping construct of PROV-N capable of packaging up PROV-N expressions and namespace declarations.</p>

<p><a href="#account">Section 6</a> defines the grammar of accounts.</p>

<p><a href="#media-type">Section 7</a> defines media type for the PROV-N notation.</p>


    </section> 


<section id="prov-dm-namespace">
 <h3>Notational Conventions</h3>

<!--
<p>The PROV namespace is <span class="name">http://www.w3.org/ns/prov#</span> with prefix <span class="name">prov:</span>.</p>

<p> All the elements, predicates, reserved names and attributes introduced in this specification belong to the PROV namespace.</p>
</section>

<section id="conventions"> 
<h3>Conventions</h3>

-->

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
      NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in
      [[!RFC2119]].</p>




<p>
The following namespaces prefixes are used throughout this document.

<div style="text-align: left;">
<table border="1" style="margin-left: auto; margin-right: auto;">
<caption id="namespace-table">Table 1: Prefix and Namespaces used in this specification</caption>
<tr><td><a><bf>prefix</bf></a></td><td><bf>namespace uri</bf></td> <td><bf>definition</bf></td></tr>
<tr><td><a>prov</a></td><td>http://www.w3.org/ns/prov#</td><td>The PROV namespace (see Section <a href="#expression-NamespaceDeclaration">4.7.1</a>)</td></tr>
<tr><td><a>xsd</a></td><td>http://www.w3.org/2000/10/XMLSchema#</td><td>XML Schema Namespace [[!XMLSCHEMA-2]]</td></tr>
<tr><td><a>rdf</a></td><td>http://www.w3.org/1999/02/22-rdf-syntax-ns#</td><td>The RDF namespace  [[!RDF-CONCEPTS]]</td></tr>
<tr><td><a>(others)</a></td><td>(various)</td><td>All other namespace prefixes are used in examples only. <br/> In particular, URIs starting with "http://example.com" represent<br/> some application-dependent URI [[!URI]]</td></tr>
</table>
</div>

</section> 

</section> 

<section id="general-conventions">
<h3>General grammar considerations</h3>

<section id="functional-syntax"> 
<h3>Functional-style Syntax</h3>

<p> PROV-N adopts a functional-style syntax consisting of a predicate name and an ordered list of terms.
All PROV data model relations involve two primary elements, the <em>subject</em> and the <em>object</em>, in this order. Furthermore, some expressions also admit additional elements that further characterize it.
<div class="anexample">
The following expression should be read as "<span class="name">e2</span> was derived from <span class="name">e1</span>". Here <span class="name">e2</span> is the subject, and  <span class="name">e1</span> is the object.
<pre class="codeexample" >
wasDerivedFrom(e2, e1)
</pre>
  </div>
  
<div class="anexample">
In the following expressions, the optional activity <span class="name">a</span> along with the generation and usage identifiers, and timestamps have been added to further qualify the derivation:
<pre class="codeexample" >
wasDerivedFrom(e2, e1, a, g2, u1)
activity(a2, 2011-11-16T16:00:00, 2011-11-16T16:00:01)
</pre>
</div>

</section>

<section id="grammar-notation">
<h3>EBNF Grammar</h3>

<p>The grammar is specified using the Extended  Backus-Naur Form (EBNF) notation.</p>
<div class="grammar">
  Each production rule (or <dfn>production</dfn>, for short) in the grammar defines one non-terminal symbol <span class="nonterminal">E</span>, in the following form:</p>

<span class="nonterminal">E</span>&nbsp;::= <em>term</em>

<p>Within the term on the right-hand side of a rule, the following terms are used to match strings of one or more characters:
<ul>
<li> 
<span class="nonterminal">E</span>: matches term satisfying rule for symbol E.
</li>

<li> 
<span class="name">abc</span>: matches the literal string inside the single quotes.
</li>


<li> 
<span class="optional"><em>term</em></span>: optional <em>term</em>, matches <em>term</em> or nothing.
</li>

<li> 
<span class="plus"><em>term</em></span>: matches one or more occurrences of <em>term</em>.
</li>

<li> 
<span class="star"><em>term</em></span>: matches zero or more occurrences of <em>term</em>.
</li>

<li> 
<span class="choice"><em>term</em> | <em>term</em></span>: matches one of the two <em>terms</em>.
</li>

</ul>
</div>

The grammar is centered on nonterminals for various types of <span class="nonterminal">expression</span>. The main production is introduced here below as it reflects the rationale for the design of the entire grammar. Note that parser developers may use the top level <a href="#ExpressionContainer">container</a>  nonterminal as a starting point instead.

<div class='grammar'>
<table style="background: white; border=0; ">
<tr><td><span class="nonterminal">expression</span> <br/><br/><br/><br/><br/><br/><br/>
</td><td>&nbsp;::=<br/><br/><br/><br/><br/><br/><br/></td><td>
<!-- Component 1-->
<span class="nonterminal">entityExpression</span> 
| <span class="nonterminal">activityExpression</span> 
| <span class="nonterminal">generationExpression</span> 
| <span class="nonterminal">usageExpression</span> 
<br/>
&nbsp;&nbsp;| <span class="nonterminal">startExpression</span> 
| <span class="nonterminal">endExpression</span> 
| <span class="nonterminal">invalidationExpression</span> 
| <span class="nonterminal">communicationExpression</span> 
| <span class="nonterminal">startByActivityExpression</span> 
<br/>
<!-- Component 2-->
&nbsp;&nbsp;| <span class="nonterminal">agentExpression</span>
| <span class="nonterminal">attributionExpression</span> 
| <span class="nonterminal">associationExpression</span> 
| <span class="nonterminal">responsibilityExpression</span> 
<br/>
<!-- Component 3-->
&nbsp;&nbsp;| <span class="nonterminal">derivationExpression</span> 
| <span class="nonterminal">revisionExpression</span> 
| <span class="nonterminal">quotationExpression</span> <br/>
&nbsp;&nbsp;| <span class="nonterminal">hadOriginalSourceExpression</span> 
| <span class="nonterminal">traceExpression</span> 
<br/>
<!-- Component 4-->
&nbsp;&nbsp;| <span class="nonterminal">alternateExpression</span> 
| <span class="nonterminal">specializationExpression</span>
<br/>
<!-- Component 5 TODO-->
<!-- Component 6-->
&nbsp;&nbsp;| <span class="nonterminal">noteExpression</span> 
| <span class="nonterminal">annotationExpression</span> 
<br/>
</td></tr>
</table>
</div>

Each expression non-terminal <span class="nonterminal">expression</span>, i.e.,  <span class="nonterminal">entityExpression</span>, <span class="nonterminal">activityExpression</span> etc., corresponds to one element (entity, activity, etc.) of the PROV data model.
<p>A PROV-N document consists of a collection of <a title="expression">expressions</a>, wrapped in an <a>expression container</a> with some namespace declarations, such that the text for an element matches the corresponding <span class="nonterminal">expression</span> production of the grammar.

</section>


<section id="prov-n-optionals"> 
<h3>Optional terms in expressions</h3>

Some terms in an expression may be optional. For example:

<div class="anexample">
<pre class="codeexample" >
wasDerivedFrom(e2, e1, a, g2, u1)
wasDerivedFrom(e2, e1)
</pre>
In a derivation expression, the activity, generation, and usage are optional terms. They are specified in the first derivation, but not in the second.
</div>

<div class="anexample">
<pre class="codeexample" >
activity(a2, 2011-11-16T16:00:00, 2011-11-16T16:00:01)
activity(a1)
</pre>
The start and end times for Activity <span class="name">a1</span> are optional. They are specified in the first expression, but not in the second.
</div>

<p>The general rule for optionals is that, if <em>none</em> of the optionals are used in the expression, then they are simply omitted, resulting in a simpler expression as in the examples above.</p>
However, it may be the case that only some of the optional terms are omitted. Because the position of the terms in the expression matters, an additional marker must be used to indicate that a particular term is not available. The symbol  <span class="name">-</span> is used for this purpose.

<div class="anexample">
<p>In the first expression below, all optionals are specified. However in the second, only the last one is specified, forcing the use of the marker for the missing terms. In the last, no marker is necessary because all <em>remaining</em> optionals after <span class="name">a</span> are missing.

<pre class="codeexample" >
wasDerivedFrom(e2, e1, a, g2, u1)
wasDerivedFrom(e2, e1, -, -, u1)
wasDerivedFrom(e2, e1, a)
</pre>
</div>
Note that the more succinct form is just shorthand for a complete expression with all the markers specified:
<div class="anexample">
<pre class="codeexample" >
activity(a1)
activity(a1, -, -)
</pre>
</div>
</li>

</section>

<section id="prov-n-standard-terms"> 
<h3>Identifiers and attributes</h3>

<p>Most expressions defined in the grammar include the use of two terms: an identifier for the predicate, and a set of attribute-value pairs, delimited by square brackets. Both are optional (unless specified otherwise). By convention, the identifier is the first term in any expression, and the  set of attribute-value pairs is the last. </p>
Consistent with the convention on optional terms, the  '<span class="name">-</span>' marker can be used when the identifier is not available. Additionally, the grammar rules are defined in such a way that the optional identifier can be omitted altogether with no ambiguity arising.

<div class="anexample">
<p>Derivation has an optional identifier. In the first expression, the identifier is not available. It is explicit in the second, and marked by a <span class="name">-</span> in the third.</p>
<pre class="codeexample" >
wasDerivedFrom(e2, e1)
wasDerivedFrom(d, e2, e1)
wasDerivedFrom(-, e2, e1)
</pre>
</div>

A distinction is made between expressions with no attributes, and expressions that include an empty list of attributes.
<div class="anexample">
<p>The first activity does not have any attributes. The second has an empty list of attributes. The third activity  has two attributes. 
<pre class="codeexample" >
activity(ex:a10)
activity(ex:a10, [])
activity(ex:a10, [ex:param1="a", ex:param2="b"])
</pre>
</div>

</section>

</section>

<section id="prov-n-expressions"> 
<h2>PROV-N Productions per Component</h2>

This section  introduces grammar productions for each expression, followed by small examples illustrating the use of expressions in PROV-N. Strings conforming to the grammar are valid expressions in the PROV-N language.<p/>

<section id="component1"> 
<h3>Component 1: Entities and Activities</h3>

<section id="expression-Entity"> 
<h4>Entity</h4>

<div class="withPn">
<p>


<div class='grammar'>
<span class="nonterminal">entityExpression</span>&nbsp;::=  
<span class="name">entity</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br/><br/>
<!-- -->
<span class="nonterminal">optional-attribute-values</span>&nbsp;::= 
<span class="optional"><span class="name">,</span>
<span class="name">[</span>
<span class="nonterminal">attribute-values</span>
<span class="name">]</span>
</span><br/>
<span class="nonterminal">attribute-values</span>&nbsp;::=  
<span class="nonterminal">attribute-value</span>
| <span class="nonterminal">attribute-value</span> <span class="name">,</span> <span class="nonterminal">attribute-values</span>
<br/>
<span class="nonterminal">attribute-value</span>&nbsp;::=  
<span class="nonterminal">attribute</span>
<span class="name">=</span>
<span class="nonterminal">Literal</span>
<br/>
</div>
</div>

<div class="anexample">
<pre class="codeexample">
entity(tr:WD-prov-dm-20111215, [ prov:type="document" ])
</pre>
  Here <span class="name">tr:WD-prov-dm-20111215</span> is the optional entity identifier, and <span class="name">[ prov:type="document" ]</span> groups the optional attributes with their values.
  <pre class="codeexample">
<!-- entity(tr:WD-prov-dm-20111215, [ prov:type="document", ex:version=2 ]) -->
entity(tr:WD-prov-dm-20111215)
</pre>
Here the optional attributes are not used.
</div>



</section> 
<section id="expression-Activity"> 
<h4>Activity</h4>

<div class='grammar'>
<span class="nonterminal">activityExpression</span>&nbsp;::=  
<span class="name">activity</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="optional"><span class="name">,</span>
(<span class="nonterminal">time</span> | <span class="name">-</span> )
<span class="name">,</span>
(<span class="nonterminal">time</span> | <span class="name">-</span> )</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>
</div>

<div class="anexample">
<pre class="codeexample">
activity(ex:a10, 2011-11-16T16:00:00, 2011-11-16T16:00:01, [prov:type="createFile"])
</pre>
<p>Here <span class="name">ex:a10</span> is the optional activity identifier, <span class="name">2011-11-16T16:00:00</span> and <span class="name">2011-11-16T16:00:01</span> are the optional start and end times for the activity, and <span class="name">[prov:type="createFile"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.
<pre class="codeexample">
activity(ex:a10)
activity(ex:a10, -, -)
activity(ex:a10, -, -, [prov:type="edit"])
activity(ex:a10, -, 2011-11-16T16:00:00)
activity(ex:a10, 2011-11-16T16:00:00, -)
activity(ex:a10, 2011-11-16T16:00:00, -, [prov:type="createFile"])
activity(ex:a10, [prov:type="edit"])
</pre>
</div>


</section>
<section id="expression-Generation">
<h4>Generation</h4>


<div class="withPn">

<div class='grammar'>
<span class="nonterminal">generationExpression</span>&nbsp;::=  
<span class="name">wasGeneratedBy</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
( <span class="nonterminal">aIdentifier</span> | <span class="name">-</span> )
<span class="name">,</span> ( <span class="nonterminal">time</span> | <span class="name">-</span> )
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br/>
</div>
</div>

<div class="anexample">

<pre class="codeexample">
wasGeneratedBy(ex:g1, tr:WD-prov-dm-20111215, ex:edit1, 2011-11-16T16:00:00,  [ex:fct="save"])
</pre>
<p>  Here <span class="name">ex:g1</span> is the optional generation identifier, <span class="name">tr:WD-prov-dm-20111215</span> is the identifier of the entity being generated,
  <span class="name">ex:edit1</span> is the optional identifier of the generating activity, <span class="name">2011-11-16T16:00:00</span> is the optional generation time, and <span class="name"> [ex:fct="save"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.
  
<pre class="codeexample">
wasGeneratedBy(tr:WD-prov-dm-20111215, ex:edit1, -)
wasGeneratedBy(tr:WD-prov-dm-20111215, ex:edit1, 2011-11-16T16:00:00)
wasGeneratedBy(e2, a1, -, [ex:fct="save"])     
wasGeneratedBy(e2, -, -, [ex:fct="save"])     
wasGeneratedBy(ex:g1, tr:WD-prov-dm-20111215, ex:edit1, -)
wasGeneratedBy(-, tr:WD-prov-dm-20111215, ex:edit1, -)
</pre>
</div>

<p>Even though the production <span class="nonterminal">generationExpression</span> allows for expressions <span class="name">wasGeneratedBy(e2, -, -)</span>  and <span class="name">wasGeneratedBy(-, e2, -, -)</span>, these expressions are not valid in PROV-N, since 
at least  one of <span class='attribute'>activity</span>, <span class='attribute'>time</span>, or  <span class='attribute'>attributes</span>  MUST be present.</p>


</section>

<section id="expression-Usage">
<h4>Usage</h4>

<div class='grammar'>
<span class="nonterminal">usageExpression</span>&nbsp;::=  
<span class="name">used</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span> ( <span class="nonterminal">time</span> | <span class="name">-</span> ) 
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br/>
</div>


<div class="anexample">
  
<pre class="codeexample">
used(ex:u1, ex:act2, ar3:0111, 2011-11-16T16:00:00, [ex:fct="load"])
 </pre>
<p>  Here <span class="name">ex:u1</span> is the optional usage identifier,  <span class="name">ex:act2</span> is the identifier of the using activity,
  <span class="name">ar3:0111</span> is the identifier of the entity being used,
 <span class="name">2011-11-16T16:00:00</span> is the optional usage time, and <span class="name"> [ex:fct="load"]</span> are optional attributes.</p>
The remaining examples show cases where some of the optionals are omitted.

  <pre class="codeexample">
used(ex:act2, ar3:0111, -)
used(ex:act2, ar3:0111, 2011-11-16T16:00:00)
used(a1,e1, -, [ex:fct="load"])
used(ex:u1, ex:act2, ar3:0111, -)
used(-, ex:act2, ar3:0111, -)
</pre>
</div>


</section>
<section id="expression-Start">
<h4>Start</h4>

<div class='grammar'>
<span class="nonterminal">startExpression</span>&nbsp;::= 
<span class="name">wasStartedBy</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span>
( <span class="nonterminal">eIdentifier</span> | <span class="name">-</span> )
<span class="name">,</span> ( <span class="nonterminal">time</span> | <span class="name">-</span> )
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>

<div class="anexample">

  <pre class="codeexample">
wasStartedBy(s, ex:act2, ar3:0111, 2011-11-16T16:00:00, [ex:param="a"])
  </pre>
  <p>Here <span class="name">s</span> is the optional start identifier,  <span class="name">ex:act2</span> is the identifier of the starting activity,
  <span class="name">ar3:0111</span> is the identifier of the entity that triggered the activity start,
 <span class="name">2011-11-16T16:00:00</span> is the optional usage time, and <span class="name"> [ex:param="a"]</span> are optional attributes.</p>
  The remaining examples show cases where some of the optionals are omitted.
  
  <pre class="codeexample">
wasStartedBy(ex:act2, ar3:0111, -)
wasStartedBy(ex:act2, ar3:0111, 2011-11-16T16:00:00)
wasStartedBy(ex:act2, -, 2011-11-16T16:00:00)
wasStartedBy(ex:act2, -, -)
wasStartedBy(ex:act2, -, -, [ex:param="a"])
wasStartedBy(s, ex:act2, ar3:0111, 2011-11-16T16:00:00)
wasStartedBy(-, ex:act2, ar3:0111, 2011-11-16T16:00:00)
</pre>
</div>

<p><strong>Note:</strong> Even though the production <span class="nonterminal">startExpression</span> allows for expressions <span class="name">wasStartedBy(e2, -, -)</span>  and <span class="name">wasStartedBy(-, e2, -, -)</span>, these expressions are not valid in PROV-N,
since 
at least  one of <span class='attribute'>trigger</span>, <span class='attribute'>time</span>, or  <span class='attribute'>attributes</span>  MUST be present.</p>

</section>

<section id="expression-End">
<h4>End</h4>

<div class='grammar'>
<span class="nonterminal">endExpression</span>&nbsp;::= 
<span class="name">wasEndedBy</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span>
( <span class="nonterminal">eIdentifier</span> | <span class="name">-</span> )
<span class="name">,</span> ( <span class="nonterminal">time</span> | <span class="name">-</span> )
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>

<div class="anexample">

    <pre class="codeexample">
wasEndedBy(s, ex:act2, ex:trigger, 2011-11-16T16:00:00, [ex:param="a"])
  </pre>
<p>  Here <span class="name">s</span> is the optional start identifier,  <span class="name">ex:act2</span> is the identifier of the ending activity,
  <span class="name">ex:trigger</span> is the identifier of the entity that triggered the activity end,
 <span class="name">2011-11-16T16:00:00</span> is the optional usage time, and <span class="name"> [ex:param="a"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.

  
<pre class="codeexample">
wasEndedBy(ex:act2, ex:trigger, -)
wasEndedBy(ex:act2, ex:trigger, 2011-11-16T16:00:00)
wasEndedBy(ex:act2, -, 2011-11-16T16:00:00)
wasEndedBy(ex:act2, -, 2011-11-16T16:00:00, [ex:param="a"])
wasEndedBy(e,ex:act2, -, -)
wasEndedBy(e, ex:act2, ex:trigger, 2011-11-16T16:00:00)
wasEndedBy(-, ex:act2, ex:trigger, 2011-11-16T16:00:00)
</pre>
</div>

<p><strong>Note:</strong>Even though the production <span class="nonterminal">endExpression</span> allows for expressions <span class="name">wasEndedBy(e2, -, -)</span>  and <span class="name">wasEndedBy(-, e2, -, -)</span>, these expressions are not valid in PROV-N,
since 
at least  one of <span class='attribute'>trigger</span>, <span class='attribute'>time</span>, and  <span class='attribute'>attributes</span> MUST be present.</p>
</section>

<section id="expression-Invalidation">
<h4>Invalidation</h4>


<div class="withPn">

<div class='grammar'>
<span class="nonterminal">invalidationExpression</span>&nbsp;::=  
<span class="name">wasInvalidatedBy</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
( <span class="nonterminal">aIdentifier</span> | <span class="name">-</span> )
<span class="name">,</span> ( <span class="nonterminal">time</span> | <span class="name">-</span> )
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span><br/>
</div>
</div>

<div class="anexample">

<pre class="codeexample">
wasInvalidatedBy(ex:i1, tr:WD-prov-dm-20111215, ex:edit1, 2011-11-16T16:00:00,  [ex:fct="save"])
</pre>
<p>  Here <span class="name">ex:i1</span> is the optional invalidation identifier, <span class="name">tr:WD-prov-dm-20111215</span> is the identifier of the entity being invalidated,
  <span class="name">ex:edit1</span> is the optional identifier of the invalidating activity, <span class="name">2011-11-16T16:00:00</span> is the optional invalidation time, and <span class="name"> [ex:fct="save"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.
  
<pre class="codeexample">
wasInvalidatedBy(tr:WD-prov-dm-20111215, ex:edit1, -)
wasInvalidatedBy(tr:WD-prov-dm-20111215, ex:edit1, 2011-11-16T16:00:00)
wasInvalidatedBy(e2, a1, -, [ex:fct="save"])     
wasInvalidatedBy(e2, -, -, [ex:fct="save"])     
wasInvalidatedBy(ex:i1, tr:WD-prov-dm-20111215, ex:edit1, -)
wasInvalidatedBy(-, tr:WD-prov-dm-20111215, ex:edit1, -)
</pre>
</div>

<p>Even though the production <span class="nonterminal">invalidationExpression</span> allows for expressions <span class="name">wasInvalidatedBy(e2, -, -)</span>  and <span class="name">wasInvalidatedBy(-, e2, -, -)</span>, these expressions are not valid in PROV-N, since 
at least  one of <span class='attribute'>activity</span>, <span class='attribute'>time</span>, or  <span class='attribute'>attributes</span>  MUST be present.</p>


</section>


<section id="expression-wasInformedBy">
<h4>Communication</h4>

<div class="grammar">
<span class="nonterminal">communicationExpression</span> &nbsp;::= 
<span class="name">wasInformedBy</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">aIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>

<div class="anexample">
<pre class="codeexample">
wasInformedBy(ex:inf1, ex:a1, ex:a2, [ex:param1="a", ex:param2="b"])
</pre>
<p>  Here <span class="name">ex:inf1</span> is the optional communication identifier,  <span class="name">ex:a1</span> is the identifier of the informed activity,
  <span class="name">ex:a2</span> is the identifier of the informant activity,
and <span class="name">[ex:param1="a", ex:param2="b"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.

<pre class="codeexample">
wasInformedBy(ex:a1, ex:a2)
wasInformedBy(ex:a1, ex:a2, [ex:param1="a", ex:param2="b"])
wasInformedBy(i, ex:a1, ex:a2)
wasInformedBy(i, ex:a1, ex:a2, [ex:param1="a", ex:param2="b"])
wasInformedBy(-, ex:a1, ex:a2)
wasInformedBy(-, ex:a1, ex:a2, [ex:param1="a", ex:param2="b"])
</pre>
</div>
</section>

<section id="expression-startByActivity">
<h4>Start by Activity</h4>

<div class="grammar">
<span class="nonterminal">startByActivityExpression</span> &nbsp;::= 
<span class="name">wasStartedByActivity</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">aIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
<br>
</div>

<div class="anexample">
<pre class="codeexample">
wasStartedByActivity(s,ex:a1, ex:a2, [ex:param1="a", ex:param2="b"])
  </pre>
<p>  Here <span class="name">s</span> is the optional start-by-activity identifier,  <span class="name">ex:a1</span> is the identifier of the starting activity,
  <span class="name">ex:a2</span> is the identifier of the activity that started  <span class="name">ex:a1</span>,
and <span class="name"> [ex:param1="a", ex:param2="b"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.
  
  <pre class="codeexample">
wasStartedByActivity(ex:a1, ex:a2)
wasStartedByActivity(ex:a1, ex:a2, [ex:param1="a", ex:param2="b"])
wasStartedByActivity(s,ex:a1, ex:a2)
wasStartedByActivity(-,ex:a1, ex:a2)
wasStartedByActivity(-,ex:a1, ex:a2, [ex:param1="a", ex:param2="b"])
</pre>
</div>
</section>
</section>


<section id="component2"> 
<h3>Component 2: Agents and Responsibility</h3>
<section id="expression-Agent">
<h4>Agent</h4>

<div class='grammar'>
<span class="nonterminal">agentExpression</span>&nbsp;::= 
<span class="name">agent</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>
</div>

<div class="anexample">
<pre class="codeexample">
agent(ag4, [ prov:type="prov:Person", ex:name="David" ])
</pre>
<p>Here <span class="name">ag</span> is the agent identifier, and
   <span class="name">[ prov:type="prov:Person", ex:name="David" ]</span> are optional attributes. </p>
In the next example, the optional attributes are omitted.

<pre class="codeexample">
agent(ag4)
</pre>
</div>


</section>
<section id="expression-attribution">
<h4>Attribution</h4>

<div class="grammar">
<span class="nonterminal">attributionExpression</span>&nbsp;::=  
<span class="name">wasAttributedTo</span> 
<span class="name">(</span> 
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span> 
<span class="nonterminal">agIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span> 
</div>

<div class="anexample">

<pre class="codeexample">
wasAttributedTo(id, e, ag, [ex:license="cc:attributionURL" %% "xsd:QName"])
  </pre>
<p>    Here <span class="name">id</span> is the optional attribution identifier,  <span class="name">e</span> is an entity identifier,
  <span class="name">ag</span> is the identifier of the agent to whom the entity is abscribed, 
and <span class="name">[ex:license="cc:attributionURL" %% "xsd:QName"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.

<pre class="codeexample">
wasAttributedTo(e, ag)
wasAttributedTo(e, ag, [ex:license="cc:attributionURL" %% "xsd:QName"])
wasAttributedTo(-,  e, ag, [ex:license="cc:attributionURL" %% "xsd:QName"])
</pre>
</div>

</section>  <!-- end attribution -->


<section id="expression-Association">
<h4>Association</h4>

<div class='grammar'>
<span class="nonterminal">associationExpression</span>&nbsp;::= 
<span class="name">wasAssociatedWith</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">aIdentifier</span>
<span class="name">,</span> 
( <span class="nonterminal">agIdentifier</span>  | <span class="name">-</span> )
<span class="name">,</span> 
( <span class="nonterminal">eIdentifier</span>  | <span class="name">-</span> )
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>



<div class="anexample">
<pre class="codeexample">
wasAssociatedWith(ex:agas, ex:a1, ex:ag1, ex:e1, [ex:param1="a", ex:param2="b"])
  </pre>

<p>  Here <span class="name">ex:agas</span> is the optional attribution identifier,
  <span class="name">ex:a1</span> is an activity identifier,
  <span class="name">ex:ag1</span> is the optional identifier of the agent associated to the activity,
  <span class="name">ex:e1</span> is the optional identifier of the plan used by the agent in the context of the activity,
  and <span class="name"> [ex:param1="a", ex:param2="b"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.

  
  
<pre class="codeexample">
wasAssociatedWith(ex:a1, -, ex:e1)
wasAssociatedWith(ex:a1, ex:ag1, -)
wasAssociatedWith(ex:a1, ex:ag1, ex:e1)
wasAssociatedWith(ex:a1, ex:ag1, ex:e1, [ex:param1="a", ex:param2="b"])
wasAssociatedWith(a, ex:a1, -, ex:e1)
wasAssociatedWith(-, ex:a1, -, ex:e1)
wasAssociatedWith(-, ex:a1, ex:ag1, -)
</pre>
</div>

<p><strong>Note:</strong>The production <span class="nonterminal">associationExpression</span> allows for expressions <span class="name">wasAssociatedWith(a, -, -)</span>  and <span class="name">wasAssociatiedWith(-, a, -, -)</span>. However, these expressions are not valid in PROV-N, 
because at least  one of <span class='attribute'>agent</span> or <span class='attribute'>plan</span> MUST be present.</p>

</section>
<section id="expression-responsibility">
<h4>Responsibility</h4>

<div class='grammar'>
<span class="nonterminal">responsibilityExpression</span>&nbsp;::= 
<span class="name">actedOnBehalfOf</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">agIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">agIdentifier</span>
<span class="name">,</span>
( <span class="nonterminal">aIdentifier</span> | <span class="name">-</span> )
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>

<div class="anexample">

  <pre class="codeexample">
actedOnBehalfOf(act1, ag1, ag2, a, [prov:type="contract"])
  </pre>
<p>  Here <span class="name">act1</span> is the optional attribution identifier,
  <span class="name">ag1</span> is the identifier for the subordinate agent,
  <span class="name">ag2</span> is the  identifier of the responsible agent,
  <span class="name">a</span> is the optional identifier of the activity for which the responsibility link holds,
  and <span class="name"> [prov:type="contract"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.


<pre class="codeexample">
actedOnBehalfOf(ag1, ag2, -)
actedOnBehalfOf(ag1, ag2, a)
actedOnBehalfOf(ag1, ag2, -, [prov:type="delegation"])
actedOnBehalfOf(ag2, ag3, a, [prov:type="contract"])
actedOnBehalfOf(r, ag2, ag3, a, [prov:type="contract"])
actedOnBehalfOf(-, ag1, ag2, -)
</pre>
</div>


</section>
</section>
<section id="component3"> 
<h3>Component 3: Derivations</h3>
<section id="Derivation-Relation">
<h4>Derivation</h4>

<div class='grammar'>
<span class="nonterminal">derivationExpression</span>&nbsp;::= 
<span class="name">wasDerivedFrom</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">eIdentifier</span>
<span class="optional">
<span class="name">,</span>
( <span class="nonterminal">aIdentifier</span> | <span class="name">-</span> )
<span class="name">,</span>
( <span class="nonterminal">gIdentifier</span> | <span class="name">-</span> )
<span class="name">,</span>
( <span class="nonterminal">uIdentifier</span> | <span class="name">-</span> )
</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>


<div class="anexample">
    <pre class="codeexample">
wasDerivedFrom(d, e2, e1, a, g2, u1, [prov:comment="a righteous derivation"])
  </pre>
<p>  Here
    <span class="name">d</span> is the optional derivation identifier,
  <span class="name">e2</span> is the identifier for the entity being derived,
  <span class="name">e1</span> is the  identifier of the entity from which <span class="name">e2</span> is derived,
  <span class="name">a</span> is the optional identifier of the activity which used/generated the entities,
  <span class="name">g2</span> is the optional identifier of the generation,
  <span class="name">u1</span> is the optional identifier of the usage,
  and <span class="name">[prov:comment="a righteous derivation"]</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.

  
<pre class="codeexample">
wasDerivedFrom(e2, e1)
wasDerivedFrom(e2, e1, a, g2, u1)
wasDerivedFrom(e2, e1, -, g2, u1)
wasDerivedFrom(e2, e1, a, -, u1)
wasDerivedFrom(e2, e1, a, g2, -)
wasDerivedFrom(e2, e1, a, -, -)
wasDerivedFrom(e2, e1, -, -, u1)
wasDerivedFrom(e2, e1, -, -, -)
wasDerivedFrom(d, e2, e1, a, g2, u1)
wasDerivedFrom(-, e2, e1, a, g2, u1)
</pre>
</div>

</section>
<section id="expression-Revision">
<h4>Revision</h4>

<div class="grammar">
<span class="nonterminal">revisionExpression</span>&nbsp;::= 
<span class="name">wasRevisionOf</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
( <span class="nonterminal">agIdentifier</span> | <span class="name">-</span> )
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>


<div class="anexample">
    <pre class="codeexample">
wasRevisionOf(rev1, tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018, w3:Consortium, [prov:comment="??"] )
  </pre>
<p>  Here
    <span class="name">rev1</span> is the optional revision identifier,
  <span class="name">tr:WD-prov-dm-20111215</span> is the identifier of the revised entity,
  <span class="name">tr:WD-prov-dm-20111018</span> is the identifier of the original entity,
  <span class="name">w3:Consortium</span> is the optional identifier of the agent involved in the revision,
  and <span class="name"> [prov:comment="??"] )</span> are optional attributes. </p>
The remaining examples show cases where some of the optionals are omitted.


  <pre class="codeexample">
wasRevisionOf(tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018, -)
wasRevisionOf(tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018, w3:Consortium)
wasRevisionOf(id,tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018, w3:Consortium)
wasRevisionOf(tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018, -)
wasRevisionOf(id,tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018, -)
wasRevisionOf(-,tr:WD-prov-dm-20111215, tr:WD-prov-dm-20111018, -)
</pre>
</div>


</section>  <!-- end revision -->
<section id="expression-quotation">
<h4>Quotation</h4>

<div class="grammar">
<span class="nonterminal">quotationExpression</span>&nbsp;::=  
<span class="name">wasQuotedFrom</span> 
<span class="name">(</span> 
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span> 
<span class="nonterminal">eIdentifier</span>
<span class="optional">
<span class="name">,</span> 
( <span class="nonterminal">agIdentifier</span> | <span class="name">-</span> )
<span class="name">,</span> 
( <span class="nonterminal">agIdentifier</span> | <span class="name">-</span> )
</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span> 
</div>


<div class="anexample">
    <pre class="codeexample">
wasQuotedFrom(quoteId1, ex:blockQuote,ex:blog,ex:Luc,ex:Paul,[])
  </pre>
<p>  Here
    <span class="name">quoteId1</span> is the optional revision identifier,
  <span class="name">ex:blockQuote</span> is the identifier of the entity that represents the quote (the partial copy)
  <span class="name">ex:blog</span> is the identifier of the original entity being quoted,
  <span class="name">ex:Luc</span> is the optional identifier of the agent who performs the quoting,
  <span class="name">ex:Paul</span> is the optional identifier of the agent to whom the original entity is attributed,
  and <span class="name">[]</span> is the (empty) optional set of attributes. </p>
The remaining examples show cases where some of the optionals are omitted.


  <pre class="codeexample">
wasQuotedFrom(ex:blockQuote,ex:blog)
wasQuotedFrom(ex:blockQuote,ex:blog,ex:Luc,ex:Paul)
wasQuotedFrom(ex:blockQuote,ex:blog,-,ex:Paul)
wasQuotedFrom(ex:blockQuote,ex:blog,ex:Luc,ex:Paul,[])
wasQuotedFrom(ex:blockQuote,ex:blog, -, -)
wasQuotedFrom(id,ex:blockQuote,ex:blog,ex:Luc,ex:Paul)
wasQuotedFrom(-,ex:blockQuote,ex:blog,ex:Luc,-)

</pre>
</div>

</section>  <!-- end quotation -->


<section id="expression-original-source">
<h4>Original Source</h4>

<div class="grammar">
<span class="nonterminal">originalSourceExpression</span>&nbsp;::=  
<span class="name">hadOriginalSource</span> 
<span class="name">(</span> 
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span> 
<span class="nonterminal">eIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span> 
</div>


<div class="anexample">
    <pre class="codeexample">
hadOriginalSource(src1, ex:e1, ex:e2,[ex:param="a"])
  </pre>
<p>  Here
    <span class="name">src1</span> is the optional original source identifier,
  <span class="name">ex:e1</span> is the identifier of the derived entity,
  <span class="name">ex:e2</span> is the identifier of the original source entity,
  and <span class="name">[ex:param="a"]</span> is the optional set of attributes. </p>
The remaining examples show cases where some of the optionals are omitted.


  <pre class="codeexample">
hadOriginalSource(ex:e1, ex:e2)
hadOriginalSource(ex:e1, ex:e2,[ex:param="a"])
hadOriginalSource(-,ex:e1, ex:e2,[ex:param="a"])
hadOriginalSource(-,ex:e1, ex:e2)
</pre>
</div>

</section>  <!-- end original source -->
<section id="expression-trace">
<h4>Trace</h4>

<div class="grammar">
<span class="nonterminal">traceExpression</span>&nbsp;::= 
<span class="name">tracedTo</span>
<span class="name">(</span>
<span class="optional">( <span class="nonterminal">identifier</span> | <span class="name">-</span> ) <span class="name">,</span> </span>
<span class="nonterminal">eIdentifier</span>
<span class="name">,</span>
<span class="nonterminal">eIdentifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>


<div class="anexample">
    <pre class="codeexample">
tracedTo(id,e2,e1,[ex:param="a"])
  </pre>
<p>  Here
    <span class="name">id</span> is the optional trace identifier,
  <span class="name">e2</span> is an entity identifier,
  <span class="name">e1</span> is the identifier for an ancestor entity that   <span class="name">e2</span> depends on,
  and <span class="name">[ex:param="a"]</span> is the optional set of attributes. </p>
The remaining examples show cases where some of the optionals are omitted.


  <pre class="codeexample">
tracedTo(e2,e1)
tracedTo(e2,e1,[ex:param="a"])
tracedTo(-,e2,e1)
</pre>
</div>

</section>
</section>
<section id="component4"> 
<h3>Component 4: Alternate Entities</h3>
<section id="expression-alternate">
<h4>Alternate</h4>

<div class='grammar'>
   <span class="nonterminal">alternateExpression</span>&nbsp;::=
  <span class="name">alternateOf</span> 
<span class="name">(</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">,</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">)</span>  
</div>

<div class="anexample">
<pre class="codeexample">
alternateOf(tr:WD-prov-dm-20111215,ex:alternate-20111215)
</pre>
  Here  <span class="name">tr:WD-prov-dm-20111215</span> is alternate for   <span class="name">ex:alternate-20111215</span>.
</div>


</section>
<section id="expression-specialization">
<h4>Specialization</h4>

<div class='grammar'>
   <span class="nonterminal">specializationExpression</span>&nbsp;::=
  <span class="name">specializationOf</span> 
<span class="name">(</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">,</span> 
<span class="nonterminal">eIdentifier</span> 
<span class="name">)</span>  
</div>

<div class="anexample">
<pre class="codeexample">
specializationOf(tr:WD-prov-dm-20111215,tr:prov-dm)
</pre>
    Here  <span class="name">tr:WD-prov-dm-20111215</span> is a specialization of <span class="name">tr:prov-dm</span>.
</div>

</section>
</section>

<section id="component5"> 
<h3>Component 5: Collections</h3>

<div class="note">Grammar for collections MAY under go minor syntactic changes since it has not been implemented yet.</div>

In the productions in this section, nonterminals <span class="nonterminal">keyValuePairs</span> and <span class="nonterminal">keySet</span> are defined as follows.

<div class="grammar">
<span class="nonterminal">keyValuePairs</span> &nbsp;::= 
<span class="name">(</span>
    <span class="nonterminal">literal</span>
 <span class="name">,</span>
<span class="nonterminal">eidentifier</span>
    <span class="name">)</span>
|
<span class="name">(</span>
  <span class="nonterminal">literal</span>
 <span class="name">,</span>
<span class="nonterminal">eidentifier</span>
<span class="name">)</span>
  <span class="name">,</span>
<span class="nonterminal">keyValuePairs</span>
</div>

  <div class="grammar">
<span class="nonterminal">keySet</span> &nbsp;::= 
    <span class="nonterminal">literal</span>
|
  <span class="nonterminal">literal</span>
 <span class="name">,</span>
<span class="nonterminal">keySet</span>
</div>


<section id="expression-collection-insertion">
<h3>Insertion</h3>

<div class="grammar">
 <span class="nonterminal">derivationByInsertionFromExpression</span>&nbsp;::=  
<span class="name">derivedByInsertionFrom</span> 
 <span class="name">(</span>
 <span class="optional"><span class="nonterminal">identifier</span>
 <span class="name">,</span></span>
<span class="nonterminal">cIdentifier</span>
 <span class="name">,</span>
<span class="nonterminal">cIdentifier</span>
 <span class="name">,</span>
  <span class="name">{</span>
  <span class="nonterminal">keyValuePairs</span>
   <span class="name">}</span>
<span class="nonterminal">optional-attribute-values</span>
  <span class="name">)</span>
</div>

<div class="anexample">
    <pre class="codeexample">
 derivedByInsertionFrom(id, c1, c, {("k1", v1), ("k2", v2)}, [])  
  </pre>
<p>  Here
    <span class="name">id</span> is the optional insertion identifier,
  <span class="name">c1</span> is the  identifier for the collection after the insertion,
  <span class="name">c</span> is the  identifier for the collection before the insertion,
  <span class="name"> {("k1", v1), ("k2", v2)}</span> is the set of key-value pairs that have been inserted in
  <span class="name">c</span>,
    and <span class="name">[]</span> is the optional (empty) set of attributes. </p>
The remaining examples show cases where some of the optionals are omitted.

  <pre class="codeexample">
 derivedByInsertionFrom(c1, c, {("k1", v1), ("k2", v2)})  
 derivedByInsertionFrom(c1, c, {("k1", v1)})  
 derivedByInsertionFrom(c1, c, {("k1", v1), ("k2", v2)}, [])
</pre>
</div>


</section>

<section id="expression-collection-removal">
<h3>Removal</h3>

<div class="grammar">
 <span class="nonterminal">derivationByRemovalFromExpression</span>&nbsp;::=  
<span class="name">derivedByRemovalFrom</span> 
 <span class="name">(</span>
 <span class="optional"><span class="nonterminal">identifier</span>
 <span class="name">,</span></span>
<span class="nonterminal">cIdentifier</span>
 <span class="name">,</span>
<span class="nonterminal">cIdentifier</span>
 <span class="name">,</span>
  <span class="name">{</span>
  <span class="nonterminal">keySet</span>
   <span class="name">}</span>
<span class="nonterminal">optional-attribute-values</span>
  <span class="name">)</span>
  <br>
</div>

<div class="anexample">
    <pre class="codeexample">
 derivedByRemovalFrom(id, c3, c, {"k1", "k3"}, [])  
  </pre>
<p>  Here
    <span class="name">id</span> is the optional removal identifier,
  <span class="name">c1</span> is the  identifier for the collection after the removal,
  <span class="name">c</span> is the  identifier for the collection before the removal,
  <span class="name"> {("k1", v1), ("k2", v2)}</span> is the set of key-value pairs that have been removed from
  <span class="name">c</span>,
    and <span class="name">[]</span> is the optional (empty) set of attributes. </p>
  The remaining examples show cases where some of the optionals are omitted.

  <pre class="codeexample">
   derivedByRemovalFrom(c3, c1, {"k1", "k3"})               
   derivedByRemovalFrom(c3, c1, {"k1"})               
   derivedByRemovalFrom(c3, c1, {"k1", "k3"}, [])               
</pre>
  </div>

</section>

<section id="expression-collection-membership">
<h3>Membership</h3>

<div class="grammar">
 <span class="nonterminal">membershipExpression</span>&nbsp;::=  
<span class="name">isMemberOf</span> 
 <span class="name">(</span>
 <span class="optional"><span class="nonterminal">identifier</span>
 <span class="name">,</span></span>
<span class="nonterminal">cIdentifier</span>
 <span class="name">,</span>
  <span class="name">{</span>
  <span class="nonterminal">keyValuePairs</span>
   <span class="name">}</span>
<span class="nonterminal">optional-attribute-values</span>
  <span class="name">)</span>
  <br>
</div>


<div class="anexample">
    <pre class="codeexample">
   memberOf(mid, c, {("k4", v4), ("k5", v5)}, [])
  </pre>
<p>  Here
    <span class="name">mid</span> is the optional membership identifier,
  <span class="name">c</span> is the  identifier for the collection whose membership is stated,
  <span class="name"> {("k4", v4), ("k5", v5)}</span> is the set of key-value pairs that are members of 
  <span class="name">c</span>,
    and <span class="name">[]</span> is the optional (empty) set of attributes. </p>  
The remaining examples show cases where some of the optionals are omitted.


  <pre class="codeexample">
   memberOf(c3, {("k4", v4), ("k5", v5)})
   memberOf(c3, {("k4", v4)})
   memberOf(c3, {("k4", v4), ("k5", v5)},[])  
</pre>
</div>

</section>


</section>   <!-- end collections-->
<section id="component6"> 
<h3>Component 6: Annotations</h3>
   <section id="expression-note"> 
<h4>Note</h4>

<div class='grammar'>
<span class="nonterminal">noteExpression</span>&nbsp;::= 
<span class="name">note</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="nonterminal">optional-attribute-values</span>
<span class="name">)</span>
</div>
</div>

<div class="anexample">
<pre class="codeexample">
note(ann1,[ex:color="blue", ex:screenX=20, ex:screenY=30])
</pre>
</div>

   </section> 

<section id="expression-annotation">
<h4>Annotation</h4>

<div class='grammar'>
<span class="nonterminal">annotationExpression</span>&nbsp;::=  
<span class="name">hasAnnotation</span>
<span class="name">(</span>
<span class="nonterminal">identifier</span>
<span class="name">,</span>
<span class="nonterminal">nIdentifier</span>
<span class="name">)</span>
</div>


<div class="anexample">
<pre class="codeexample">
hasAnnotation(tr:WD-prov-dm-20111215,ex2:n1)
</pre>
  Here
   <span class="name">ex2:n1</span> is the  identifier for a note of the entity identified by 
  <span class="name">(tr:WD-prov-dm-20111215</span>.
</div>


</section>

<!--
<section  id="second-class-elements">
<section id="expression-NamespaceDeclaration">
</section>
<section id="expression-identifier">
</section>
<section id="expression-attribute">
<section id="expression-attribute-role">
</section>
<section id="expression-attribute-type">
</section>
<section id="expression-attribute-label">
</section>
<section id="expression-attribute-location">
</section>
</section>
<section id="expression-value">
</section>
</section>

-->

</section>



<section  id="subexpressions">
<h3>Further Expressions</h3>

This section defines further expressions of PROV-N.


<section id="expression-NamespaceDeclaration">
<h3>Namespace Declaration</h3>


<div class='grammar'>
<span class="nonterminal">namespaceDeclarations</span>&nbsp;::=  
 |  <span class="group"><span class="nonterminal">defaultNamespaceDeclaration</span> | <span class="nonterminal">namespaceDeclaration</span></span> <span class="star"> <span
class="nonterminal">namespaceDeclaration</span></span><br>
<span class="nonterminal">namespaceDeclaration</span>&nbsp;::=  
<span class="name">prefix</span> <span class="nonterminal">prefix</span> <span class="nonterminal">IRI</span><br/>
<span class="nonterminal">defaultNamespaceDeclaration</span>&nbsp;::=  
 <span class="name">default</span> <span class="nonterminal">IRI</span> <br/>
</div>

<p>In PROV-N, the following prefixes are reserved:
<ul>
<li>  <span class="name">prov</span>  denotes the PROV namespace with URI <span class="name">http://www.w3.org/ns/prov#</span></li>
<li>  <span class="name">xsd</span> denotes the XML Schema namespace with URI  <span class="name">http://www.w3.org/2001/XMLSchema#</span>.
</li>
</ul>
<p>A PROV-N document MUST NOT redeclare prefixes <span class="name">prov</span> and <span class="name">xsd</span>.</p>

<div class="anexample" id="anexample-namespace">
<p>The following example declares three namespaces, one default, and two with explicit prefixes <span class="name">ex1</span> and <span class="name">ex2</span>.</p>
<pre class="codeexample">
container
  default &lt;http://example.org/0/&gt;
  prefix ex1 &lt;http://example.org/1/&gt;
  prefix ex2 &lt;http://example.org/2/&gt;
...
end
</pre>
</div>



</section>


<section id="expression-identifier">
<h4>Identifier</h4>

<p>
A <dfn id="dfn-qualifiedName">qualified name</dfn> is a name subject to <a>namespace</a> interpretation. It consists of a <a>namespace</a>, denoted by an optional prefix, and a local name.
The PROV data model  stipulates that a qualified name can be mapped into an IRI
 by concatenating the IRI associated with the prefix and the local part.
<p>A qualified name's prefix is OPTIONAL. If a prefix occurs in a
 qualified name, it refers to a <a>namespace</a> declared in a namespace declaration.  In the absence of prefix, the qualified name 
 refers to the <a title="default namespace declaration">default namespace</a>.</p>

<div class='grammar'>
<span class="nonterminal">identifier</span>&nbsp;::=  <span class="nonterminal">qualifiedName</span><br/>
<span class="nonterminal">eIdentifier</span>&nbsp;::=  <span class="nonterminal">identifier</span>  <em>(intended to denote an entity)</em><br/>
<span class="nonterminal">aIdentifier</span>&nbsp;::=  <span class="nonterminal">identifier</span>  <em>(intended to denote an activity)</em><br/>
<span class="nonterminal">agIdentifier</span>&nbsp;::=  <span class="nonterminal">identifier</span>  <em>(intended to denote an agent)</em><br/>
<span class="nonterminal">gIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote a generation)</em><br/>
<span class="nonterminal">uIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote a usage)</em><br/>
<span class="nonterminal">nIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote a note)</em><br/>
<span class="nonterminal">cIdentifier</span>::=  <span class="nonterminal">identifier</span> <em>(intended to denote a collection)</em><br/>
<br/>
<br/>
<span class="nonterminal">qualifiedName</span> &nbsp;::= 
<span class="optional">
<span class="nonterminal">prefix</span> <span class="name">:</span>
</span> <span class="nonterminal">localPart</span>  | <span class="name">:</span> <span class="nonterminal">localPart</span><br/>
<span class="nonterminal">prefix</span> &nbsp;::= <em>a name without colon compatible with the <a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/#NT-NCName">NC_NAME</a> production [[!XML-NAMES]]</em><br/>
<span class="nonterminal">localPart</span> &nbsp;::= <em>a name compatible with the
<a href="http://www.w3.org/TR/rdfa-core/#P_reference">reference</a> production [[!RDFA-CORE]]</em>
</div>



<p>A PROV qualified name has a more permissive syntax then XML's <a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/#NT-QName">QName</a> [[!XML-NAMES]] since it allows any syntax for its local part provided that the concatenation with the namespace results in a valid IRI [[!IRI]]. </p>

<div class="anexample" id="anexample-qualified-name">
<p>Examples of articles on the BBC Web site seen as  entities.</p>
<pre class="codeexample">
container
  prefix bbc &lt;http://www.bbc.co.uk/&gt;
  prefix bbcNews &lt;http://www.bbc.co.uk/news/&gt;

  entity(bbc:)                          // bbc site itself
  entity(bbc:news/)                     // bbc news
  entity(bbc:news/world-asia-17507976)  // a given news article

  entity(bbcNews:)                      // an alternative way of referring to the bbc news site

end
</pre>
</div>

<div class="anexample" id="anexample-qualified-name2">
<p>Examples of entities with declared and default namespace.</p>
<pre class="codeexample">
container
  default &lt;http://example.org/2/&gt;
  prefix ex &lt;http://example.org/1/&gt;

  entity(ex:a)     //  corresponds to IRI http://example.org/1/a
  entity(ex:a/)    //  corresponds to IRI http://example.org/1/a/
  entity(ex:a/b)   //  corresponds to IRI http://example.org/1/a/b
  entity(b)        //  corresponds to IRI http://example.org/2/b
  entity(ex:1234)  //  corresponds to IRI http://example.org/2/1234
  entity(4567)     //  corresponds to IRI http://example.org/2/4567
end
</pre>
</div>

<p><b>Note:</b>The productions for <span class="nonterminal">qualifiedName</span> and <span class="nonterminal">prefix</span> are conflicting.  In the context of a <span class="nonterminal">namespaceDeclaration</span>, a parser should give precedence to the production for <span class="nonterminal">prefix</span>.
</p>


<div class="note">We need to explicitly disallow '<span class="name">-</span>' as first and only character of local part. Instead, it should be encoded as <span class="name">pct-encoded</span> [[!RFC3987]].
</div>

</section>

<section id="expression-attribute">
<h4>Attribute</h4>

<div class='grammar'>
<span class="nonterminal">attribute</span>&nbsp;::=  <span class="nonterminal">qualifiedName</span><br/>
</div>

<p>The  reserved attributes in the PROV namespace are the following.</p>

<ol>
<li>  <span class="name">prov:label</span>
<li>  <span class="name">prov:location</span>
<li>  <span class="name">prov:role</span>
<li>  <span class="name">prov:type</span>
<li>  <span class="name">prov:value</span>
</ol>


</section>





<section id="expression-literal">
<h4>Literal</h4>

<div class='grammar'>
<span class="nonterminal">Literal</span> &nbsp;::= <span class="nonterminal">typedLiteral</span> | <span class="nonterminal">convenienceNotation</span> <br/>
<span class="nonterminal">typedLiteral</span> ::= <span class="nonterminal">quotedString</span> <span class="name">%%</span> <span class="nonterminal">datatype</span><br/>
<span class="nonterminal">datatype</span> ::= <span class="nonterminal">qualifiedName</span> <em> listed in Table <a href="#permitted-datatypes">permitted-datatypes</a></em><br/>
<span class="nonterminal">convenienceNotation</span> &nbsp;::= <span class="nonterminal">stringLiteral</span> | <span class="nonterminal">intLiteral</span><br/>
<span class="nonterminal">stringLiteral</span> ::= <span class="nonterminal">quotedString</span><br/>
<span class="nonterminal">quotedString</span> ::= <em>a finite sequence of characters in which &quot; (#x22) and \ (#x5C) occur only in pairs of the form \&quot; (#x5C, #x22) and \\ (#x5C,
#x5C), enclosed in a pair of &quot; (#x22) characters</em><br/>
<span class="nonterminal">intLiteral</span> ::= <em>a finite-length non-empty sequence of decimal digits (#x30-#x39) with an optional leading negative sign (-)</em>
</div>

<p>The non terminals <span class="nonterminal">stringLiteral</span> and
<span class="nonterminal">intLiteral</span>
are syntactic sugar for quoted strings with datatype <a href="http://www.w3.org/TR/xmlschema-2/#string"><span class="name">xsd:string</span></a> and <a href="http://www.w3.org/TR/xmlschema-2/#int"><span class="name">xsd:int</span></a>, respectively.
</p>

<p> In particular, a Literal may be an IRI-typed string (with datatype <span class="name">xsd:anyURI</span>);  such IRI has no specific interpretation in the context of PROV.</p>

<table border="1" style="margin-left: auto; margin-right: auto;">
<caption id="permitted-datatypes">Permitted datatypes in literals</caption>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#decimal">xsd:decimal</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#double">xsd:double</a></td>  <td><a href="http://www.w3.org/TR/xmlschema-2/#dateTime">xsd:dateTime</a></td> </tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#integer">xsd:integer</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#float">xsd:float</a></td>  <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#nonNegativeInteger">xsd:nonNegativeInteger</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#string">xsd:string</a></td> <td><a href="http://www.w3.org/TR/2004/REC-rdf-concepts-20040210/#section-XMLLiteral">rdf:XMLLiteral</a></td> </tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#nonPositiveInteger">xsd:nonPositiveInteger</a></td><td><a href="http://www.w3.org/TR/xmlschema-2/#normalizedString">xsd:normalizedString</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#positiveInteger">xsd:positiveInteger</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#token">xsd:token</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#negativeInteger">xsd:negativeInteger</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#language">xsd:language</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#long">xsd:long</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#Name">xsd:Name</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#int">xsd:int</a></td>  <td><a href="http://www.w3.org/TR/xmlschema-2/#NCName">xsd:NCName</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#short">xsd:short</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#NMTOKEN">xsd:NMTOKEN</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#byte">xsd:byte</a></td>  <td><a href="http://www.w3.org/TR/xmlschema-2/#boolean">xsd:boolean</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#unsignedLong">xsd:unsignedLong</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#hexBinary">xsd:hexBinary</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#unsignedInt">xsd:unsignedInt</a></td>  <td><a href="http://www.w3.org/TR/xmlschema-2/#base64Binary">xsd:base64Binary</a></td><td></td> </tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#unsignedShort">xsd:unsignedShort</a></td><td><a href="http://www.w3.org/TR/xmlschema-2/#anyURI">xsd:anyURI</a></td> <td></td></tr>
<tr><td><a href="http://www.w3.org/TR/xmlschema-2/#unsignedByte">xsd:unsignedByte</a></td> <td><a href="http://www.w3.org/TR/xmlschema-2/#anyURI">xsd:QName</a></td><td></td></tr>
</table>

<p><b>Note:</b>The productions for <span class="nonterminal">qualifiedName</span> and <span class="nonterminal">intLiteral</span> are conflicting.  In the context of a <span class="nonterminal">Literal</span>, a parser should give precedence to the production for <span class="nonterminal">intLiteral</span>.
</p>

<div class="note">
Wouldn't it be useful to introduce a literal for a qualified name?
Currenlty, we have to write:
<pre>
prov:type="ex:Programmer"  %% xsd:QName
</pre>
to indicate that ex:Programmer should be interpreted as qualified name (QName).
Instead, we could have a notation such as
<pre>
prov:type='ex:Programmer'
</pre>

</div>


<section id="expression-types">
<h4>Reserved Type Values</h4>

<p>The  reserved type values in the PROV namespace are the following.</p>

<ol>
<li>  <span class="name">prov:Account</span>
<li>  <span class="name">prov:SoftwareAgent</span>
<li>  <span class="name">prov:Person</span>
<li>  <span class="name">prov:Organization</span>
<li>  <span class="name">prov:Plan</span>
<li>  <span class="name">prov:Collection</span>
<li>  <span class="name">prov:EmptyCollection</span>
</ol>

<div class="anexample" id="anexample-types">
<p>The entity <span class="name">ag</span> is a person (type: <span class="name">prov:Person</span>), whereas the entity 
<span class="name">pl</span> is a plan (type: <span class="name">prov:Plan</span>).</p>
<pre class="codeexample">
agent(ag,[prov:type="prov:Person" %% xsd:QName])
entity(pl,[prov:type="prov:Plan" %% xsd:QName])
</pre>
</div>


</section>

<section id="expression-Time">
<h4>Time Values</h4>

<p><dfn id="dfn-time">Time instants</dfn> are defined according to xsd:dateTime [[!XMLSCHEMA-2]].</p> 

<div class="anexample" id="anexample-time">

<p>The third argument in the following usage expression is a time instance, namely 4pm on 2011-11-16.</p>
<pre class="codeexample">
used(ex:act2, ar3:0111, 2011-11-16T16:00:00)
</pre>
</div>




</section>


</section>












 
</section>
</section>





<section id="ExpressionContainer">
<h4>Expression Container</h4>

<p>An <dfn>expression container</dfn> is a house-keeping construct of PROV-N capable of packaging up PROV-N <a title="expression">expressions</a> and namespace declarations.  An expression container forms a self-contained package of provenance descriptions for the purpose of <em>exchanging</em> them.  An expression container may be used
 to  package up PROV-N <a title="record">expressions</a> in response to a request for the provenance of something ([[PROV-AQ]]).</p>

<p> Given its status of house keeping construct for the purpose of exchanging provenance expressions,  an expression container is not defined as a PROV-N expression (<a href="#grammar-notation">production <span class="nonterminal">expression</span></a>).</p> 


<p>An expression container, written <span class="name">container decls  exprs endContainer</span> in PROV-N, contains:
<ul>
<li><em>namespaceDeclarations</em>: a set <span class="name">decls</span> of namespace declarations, declaring namespaces and associated prefixes, which can be used in <a
title="attribute">attributes</a> and  <a title="identifier">identifiers</a> occurring inside  <span class="name">exprs</span>;</li>
<li><em>expressions</em>:  a non-empty set of expressions <span class="name">exprs</span>.</li>
</ul>

<p>An expression container's text matches the <span class="nonterminal">expressionContainer</span> production.</p>


<div class='grammar'>
<span class="nonterminal">expressionContainer</span> ::=  
<span class="name">container</span> 
<span class="nonterminal">namespaceDeclarations</span> 
<span class="plus"> <span class="nonterminal">expression</span> </span>
<span class="name">endContainer</span> 
</div>


<div class="anexample">
<p>
The following container contains expressions related to the provenance of entity 
<span class="name">e2</span>.
</p>
<pre class="codeexample">
container
  prefix ex &lt;http://example.org/&gt;

  entity(e2, [ prov:type="File", ex:path="/shared/crime.txt", ex:creator="Alice", 
               ex:content="There was a lot of crime in London last month."])
  activity(a1, 2011-11-16T16:05:00, -,[prov:type="edit"])
  wasGeneratedBy(e2, a1, -, [ex:fct="save"])     
  wasAssociatedWith(a1, ag2, -, [prov:role="author"])
  agent(ag2, [ prov:type="prov:Person" %% xsd:QName, ex:name="Bob" ])

endContainer
</pre>
<p>This container could for instance be returned as the result of a query to a provenance store for the provenance of entity <span class="name">e2</span> [[PROV-AQ]].  
</p>
</div>



</section>

<section  id="account">
<h3>Account</h3>

<p>The PROV data model has introduced a notion of account by which a set of provenance descriptions can be bundled up and named.  The PROV data model <em>assumes</em> the existence of mechanisms to implement accounts, but such mechanisms remain outside its scope.  It is suggested that specific serializations may offer solutions to name bundles of descriptions. </p>

<p>Given that the primary motivation for PROV-N is to provide a notation aimed at human consumption, it is therefore appropriate to introduce a notation for accounts, which would include an account name and a bundle of expressions.</p>



<p>An account, written <span class="name">account(id, exprs)</span> in PROV-N, contains:</p>
<ul>
<li><em>id</em>: an identifier  that identifies this account;</li>
<li><em>expressions</em>: a set <span class="name">exprs</span> of expressions;</li>
</ul>

<p>In PROV-N, an account's text matches the <span class="nonterminal">accountExpression</span> production of the grammar.</p>

<div class='grammar'>
<span class="nonterminal">accountExpression</span>&nbsp;::=  
<span class="name">account</span> 
<span class="name">(</span> 
<span class="nonterminal">identifier</span> 
<span class="name">,</span> 
<span class="plus">
<span class="nonterminal">expression</span> </span>
<span class="name">)</span> 
</div>

<p>It is also useful to package up one or more account expressions in an expression container, for interchange purpose. Hence,  <span class="nonterminal">expressionContainer</span> is revised as follows. </p>

<div class='grammar'>
<span class="nonterminal">expressionContainer</span> ::=  
<span class="name">container</span> 
<span class="nonterminal">namespaceDeclarations</span> 
<span class="plus"> <span class="nonterminal">expression</span> </span>
<span class="name">endContainer</span>   <br/>
| <span class="name">container</span> 
<span class="nonterminal">namespaceDeclarations</span> 
<span class="plus"> <span class="nonterminal">accountExpression</span> </span>
<span class="name">endContainer</span>  
</div>



<div class="anexample">
<p>
The following container </p>
<pre class="codeexample">
container
  prefix ex &lt;http://example.org/&gt;

  account(ex:acc1,...)
  account(ex:acc2,...)
endContainer
</pre>
<p> illustrates how two accounts with identifiers <span class="name">ex:acc1</span> and <span class="name">ex:acc2</span> can be returned in a PROV-N serialization of the provenance of
something.
</p>
</div>


<div class="anexample">
<p>
The following container </p>
<pre class="codeexample">
container
  prefix ex &lt;http://example.org/&gt;
  ...

  account(ex:acc1,
      entity(tr:WD-prov-dm-20111018, [ prov:type="pr:RecsWD" %% xsd:QName ])
      entity(tr:WD-prov-dm-20111215, [ prov:type="pr:RecsWD" %% xsd:QName ])
      ...
      wasAssociatedWith(ex:pub2, w3:Consortium, pr:rec-advance))

  account(ex:acc2,
      entity(ex:acc1, [prov:type="prov:Account" %% xsd:QName ])
      wasAttributedTo(ex1:acc1, w3:Consortium))

endContainer
</pre>
<p> illustrates a first account, with identifier <span class="name">ex:acc1</span>, containing expressions describing the provenance  of the technical report <span class="name">tr:WD-prov-dm-20111215</span>, and a second account <span class="name">ex:acc2</span>, describing the provenance of the first.  In account <span class="name">ex:acc2</span>, <span class="name">ex:acc1</span> is the identifier of an entity of type <span class="name">prov:Account</span>.
</p>
</div>


</section>

<section  id="media-type">
<h3>Media Type</h3>

<p>
The media type of PROV-N is <span class="name">text/prov-n</span>. The content encoding of PROV-N content is UTF-8.
</p>

<div class="note">
<p>
See <a href="http://www.w3.org/2002/06/registering-mediatype">http://www.w3.org/2002/06/registering-mediatype</a> for Register an Internet Media Type for a W3C Spec.</p>
</div>

</section>


<div id="glossary_div" class="remove">
<!-- glossary loaded from glossary.js will be hooked up here,
     class remove, will remove this element from the final output.
-->
</div>

<section class="appendix"> 
      <h2>Acknowledgements</h2> 
      <p> 
        WG membership to be listed here.
      </p> 
    </section> 


 </body></html>
